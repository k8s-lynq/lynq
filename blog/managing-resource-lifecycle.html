<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5 Kubernetes Lifecycle Mistakes and How Lynq Policies Prevent Them | Lynq</title>
    
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DHkkxYiA.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DYkzAgVB.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C_JJgOUQ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Bj7H01mx.js">
    <link rel="modulepreload" href="/assets/chunks/katex.BbEIqZs1.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-6UL2VRFP.BWFEIqOn.js">
    <link rel="modulepreload" href="/assets/chunks/cose-bilkent-S5V4N54A.DhW4_ZMS.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-YG6GDRKO.CqaDLS_O.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-NV44I4VS.PUgtuOPh.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-Q2GNP2WA.DhVqBJCT.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-NY62KEGX.C0OSq06E.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-LVOFAZNH.Cghc66a2.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-ER5ION4S.C-Uf5J7h.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-ADFJNKIX.CkEiurZl.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-AYHSOK5B.DgMFQphm.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-PRI3JC2R.DdsvPn8f.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-UZGBJVZJ.P5s3tLig.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-WL72ISMW.BErftOw8.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-2ON5EDUG.CwBqp-Ef.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-WZHVMYZB.CwBqp-Ef.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-FKZM4ZOC.BujKrOfY.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-4FDKWEC3.BoWxFYNf.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-XKPGCS4Q.DsFk9m4a.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-IT6M3QCI.0efjiATZ.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-VGOIOE7T.Lec0jlmd.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-3W4ZIXB7.DM-2xVC_.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-TZEHDZUN.BpBj9igD.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-S2PKOQOG.D0xTp98R.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QEK2KX5R.DALyUZ1U.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-VD42YOAC.9pX_sXd1.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-VXUJARFQ.DbRsWeVH.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-PSM6KHXK.BLgLrlrn.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/blog_managing-resource-lifecycle.md.BF7VS8qT.lean.js">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="description" content="Lynq is a RecordOps platform that implements Infrastructure as Data for Kubernetes. Transform database records into production-ready infrastructure automatically. No YAML, no CI/CD delaysâ€”just data.">
    <meta name="keywords" content="kubernetes, operator, automation, database-driven, k8s, lynq, multi-tenancy, resource provisioning, recordops, infrastructure as data, infrastructure as code alternative, data-driven infrastructure">
    <meta name="author" content="Lynq Contributors">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Lynq">
    <meta property="og:title" content="Lynq - Infrastructure as Data for Kubernetes">
    <meta property="og:description" content="A RecordOps platform that implements Infrastructure as Data for Kubernetes. Turn database records into infrastructure. No YAML files, no CI/CD delaysâ€”just data.">
    <meta property="og:url" content="https://lynq.sh">
    <meta property="og:image" content="https://lynq.sh/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Lynq Logo">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Lynq - Infrastructure as Data for Kubernetes">
    <meta name="twitter:description" content="A RecordOps platform that implements Infrastructure as Data for Kubernetes. Turn database records into infrastructure. No YAML, no CI/CD delaysâ€”just data.">
    <meta name="twitter:image" content="https://lynq.sh/og-image.png">
    <meta name="twitter:image:alt" content="Lynq Logo">
    <meta name="google-site-verification" content="g7LPr3Wcm6hCm-Lm8iP5KVl11KvPv6Chxpjh3oNKHPw">
    <link rel="alternate" type="application/rss+xml" title="Lynq Blog RSS Feed" href="https://lynq.sh/feed.xml">
    <script id="check-dark-mode">document.documentElement.classList.add("dark");</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>Lynq</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/quickstart.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Docs</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Blog</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>Links</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://github.com/k8s-lynq/lynq" target="_blank" rel="noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>GitHub</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/feed.xml" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>RSS Feed</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><!----><!----><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><a href="https://github.com/k8s-lynq/lynq" target="_blank" rel="noopener noreferrer" class="github-star-badge" aria-label="Star k8s-lynq/lynq on GitHub" data-v-188af477><img src="https://img.shields.io/github/stars/k8s-lynq/lynq?style=social" alt="GitHub stars" class="badge-img" data-v-188af477></a><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _blog_managing-resource-lifecycle" data-v-e6f2a212><div><h1 id="_5-kubernetes-lifecycle-mistakes-and-how-lynq-policies-prevent-them" tabindex="-1">5 Kubernetes Lifecycle Mistakes and How Lynq Policies Prevent Them <a class="header-anchor" href="#_5-kubernetes-lifecycle-mistakes-and-how-lynq-policies-prevent-them" aria-label="Permalink to &quot;5 Kubernetes Lifecycle Mistakes and How Lynq Policies Prevent Them&quot;">â€‹</a></h1><div class="blog-post-meta" data-v-e77e5350><div class="meta-info" data-v-e77e5350><span class="date" data-v-e77e5350>December 18, 2025</span><span class="separator" data-v-e77e5350>Â·</span><span class="author" data-v-e77e5350>Tim Kang</span></div><div class="tags" data-v-e77e5350><!--[--><span class="tag" data-v-e77e5350>Lynq</span><span class="tag" data-v-e77e5350>Kubernetes</span><span class="tag" data-v-e77e5350>Resource Lifecycle</span><span class="tag" data-v-e77e5350>Policies</span><!--]--></div></div><p>Managing Kubernetes resources manually works fine at small scale. But when you&#39;re managing hundreds of similar resources - like in a multi-tenant SaaS platform - things break in unexpected ways.</p><p>This post covers five real problems that occur when managing resource lifecycles at scale, and how Lynq&#39;s policy system prevents each one.</p><h2 id="how-lynq-works-quick-overview" tabindex="-1">How Lynq Works (Quick Overview) <a class="header-anchor" href="#how-lynq-works-quick-overview" aria-label="Permalink to &quot;How Lynq Works (Quick Overview)&quot;">â€‹</a></h2><p>Before diving into the problems, here&#39;s a 30-second overview of Lynq:</p><div class="lynq-flow-diagram" data-v-dfc6af6d><div class="flow-row" data-v-dfc6af6d><div class="flow-node node-database" data-v-dfc6af6d><div class="node-icon" data-v-dfc6af6d><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dfc6af6d><ellipse cx="12" cy="5" rx="9" ry="3" data-v-dfc6af6d></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" data-v-dfc6af6d></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" data-v-dfc6af6d></path></svg></div><div class="node-title" data-v-dfc6af6d>Database</div><div class="node-desc" data-v-dfc6af6d>Data Source</div></div><div class="flow-arrow" data-v-dfc6af6d><svg width="50" height="24" viewBox="0 0 50 24" data-v-dfc6af6d><defs data-v-dfc6af6d><marker id="ah1" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto" data-v-dfc6af6d><polygon points="0 0, 8 3, 0 6" fill="currentColor" data-v-dfc6af6d></polygon></marker></defs><line x1="0" y1="12" x2="40" y2="12" stroke="currentColor" stroke-width="2" marker-end="url(#ah1)" data-v-dfc6af6d></line></svg><span class="arrow-label" data-v-dfc6af6d>query</span></div><div class="flow-node node-hub" data-v-dfc6af6d><div class="node-icon" data-v-dfc6af6d><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dfc6af6d><circle cx="12" cy="12" r="10" data-v-dfc6af6d></circle><circle cx="12" cy="12" r="4" data-v-dfc6af6d></circle><line x1="12" y1="2" x2="12" y2="6" data-v-dfc6af6d></line><line x1="12" y1="18" x2="12" y2="22" data-v-dfc6af6d></line><line x1="2" y1="12" x2="6" y2="12" data-v-dfc6af6d></line><line x1="18" y1="12" x2="22" y2="12" data-v-dfc6af6d></line></svg></div><div class="node-title" data-v-dfc6af6d>LynqHub</div><div class="node-desc" data-v-dfc6af6d>Sync 30s</div></div><div class="flow-arrow" data-v-dfc6af6d><svg width="50" height="24" viewBox="0 0 50 24" data-v-dfc6af6d><defs data-v-dfc6af6d><marker id="ah2" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto" data-v-dfc6af6d><polygon points="0 0, 8 3, 0 6" fill="currentColor" data-v-dfc6af6d></polygon></marker></defs><line x1="0" y1="12" x2="40" y2="12" stroke="currentColor" stroke-width="2" marker-end="url(#ah2)" data-v-dfc6af6d></line></svg><span class="arrow-label" data-v-dfc6af6d>create</span></div><div class="nodes-group" data-v-dfc6af6d><div class="lynqform-badge" data-v-dfc6af6d><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dfc6af6d><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-dfc6af6d></path><polyline points="14 2 14 8 20 8" data-v-dfc6af6d></polyline></svg><span data-v-dfc6af6d>LynqForm</span></div><div class="flow-node node-nodes" data-v-dfc6af6d><div class="node-icon" data-v-dfc6af6d><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dfc6af6d><rect x="3" y="3" width="7" height="7" rx="1" data-v-dfc6af6d></rect><rect x="14" y="3" width="7" height="7" rx="1" data-v-dfc6af6d></rect><rect x="3" y="14" width="7" height="7" rx="1" data-v-dfc6af6d></rect><rect x="14" y="14" width="7" height="7" rx="1" data-v-dfc6af6d></rect></svg></div><div class="node-title" data-v-dfc6af6d>LynqNodes</div><div class="node-items-inline" data-v-dfc6af6d><span data-v-dfc6af6d>a</span><span data-v-dfc6af6d>b</span><span data-v-dfc6af6d>c</span></div></div></div></div><div class="flow-down-arrow" data-v-dfc6af6d><svg width="24" height="40" viewBox="0 0 24 40" data-v-dfc6af6d><defs data-v-dfc6af6d><marker id="ah3" markerWidth="8" markerHeight="6" refX="3" refY="3" orient="auto" data-v-dfc6af6d><polygon points="0 0, 6 3, 0 6" fill="currentColor" data-v-dfc6af6d></polygon></marker></defs><line x1="12" y1="0" x2="12" y2="32" stroke="currentColor" stroke-width="2" marker-end="url(#ah3)" data-v-dfc6af6d></line></svg><span class="arrow-label" data-v-dfc6af6d>apply</span></div><div class="flow-row row-resources" data-v-dfc6af6d><div class="flow-node node-resources" data-v-dfc6af6d><div class="node-icon" data-v-dfc6af6d><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dfc6af6d><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-dfc6af6d></path><path d="M2 17l10 5 10-5" data-v-dfc6af6d></path><path d="M2 12l10 5 10-5" data-v-dfc6af6d></path></svg></div><div class="node-title" data-v-dfc6af6d>Kubernetes Resources</div><div class="resource-tags" data-v-dfc6af6d><span class="resource-tag" data-v-dfc6af6d>Deployment</span><span class="resource-tag" data-v-dfc6af6d>Service</span><span class="resource-tag" data-v-dfc6af6d>Ingress</span><span class="resource-tag" data-v-dfc6af6d>ConfigMap</span></div></div></div><div class="controls" data-v-dfc6af6d><div class="progress-dots" data-v-dfc6af6d><!--[--><span class="dot" data-v-dfc6af6d></span><span class="dot" data-v-dfc6af6d></span><span class="dot" data-v-dfc6af6d></span><span class="dot" data-v-dfc6af6d></span><!--]--></div><button class="play-btn" data-v-dfc6af6d><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" data-v-dfc6af6d><polygon points="5 3 19 12 5 21 5 3" data-v-dfc6af6d></polygon></svg></button></div></div><p>Lynq reads data from a database (LynqHub), applies templates (LynqForm) to each row, and creates Kubernetes resources (via LynqNode). When a row is added, resources are created. When a row is deleted, resources are cleaned up.</p><p>Simple enough. But &quot;how&quot; resources are created, updated, and deleted matters enormously at scale.</p><h2 id="problem-1-the-init-job-that-ran-47-times" tabindex="-1">Problem 1: The Init Job That Ran 47 Times <a class="header-anchor" href="#problem-1-the-init-job-that-ran-47-times" aria-label="Permalink to &quot;Problem 1: The Init Job That Ran 47 Times&quot;">â€‹</a></h2><h3 id="what-happened" tabindex="-1">What Happened <a class="header-anchor" href="#what-happened" aria-label="Permalink to &quot;What Happened&quot;">â€‹</a></h3><p>A team set up a database initialization Job in their template:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">jobs</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">db-init</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-db-init&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">batch/v1</span></span>
<span class="line"><span style="color:#85E89D;">      kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Job</span></span>
<span class="line"><span style="color:#85E89D;">      spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">        template</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">          spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">            containers</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">            - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">init</span></span>
<span class="line"><span style="color:#85E89D;">              image</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">postgres:15</span></span>
<span class="line"><span style="color:#85E89D;">              command</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;psql&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;-c&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;CREATE DATABASE app;&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#85E89D;">            restartPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Never</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>The Job ran successfully on the first deployment. Great!</p><p>Then someone updated the template to fix a typo in another resource. The Job ran again. And again. Every template change triggered the Job to run again, attempting to create a database that already existed.</p><p>Over a month, that Job ran 47 times across 200+ tenants.</p><h3 id="the-root-cause" tabindex="-1">The Root Cause <a class="header-anchor" href="#the-root-cause" aria-label="Permalink to &quot;The Root Cause&quot;">â€‹</a></h3><p>By default, Lynq&#39;s <code>creationPolicy</code> is <code>WhenNeeded</code> - resources are reapplied whenever the template changes. This is correct for Deployments that should always reflect the latest spec. But for one-time Jobs, this behavior is catastrophic.</p><h3 id="the-solution-creationpolicy-once" tabindex="-1">The Solution: <code>creationPolicy: Once</code> <a class="header-anchor" href="#the-solution-creationpolicy-once" aria-label="Permalink to &quot;The Solution: `creationPolicy: Once`&quot;">â€‹</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">jobs</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">db-init</span></span>
<span class="line"><span style="color:#85E89D;">    creationPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Once</span><span style="color:#6A737D;">  # Run exactly once, never again</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-db-init&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">      # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>With <code>Once</code>, Lynq creates the resource on first reconciliation and marks it with a <code>lynq.sh/created-once</code> annotation. Even if the template changes, this resource is never touched again.</p><div class="policy-visualizer" data-v-f1308b60><button class="replay-button" aria-label="Reset all resources" data-v-f1308b60><svg width="20" height="20" viewBox="0 0 20 20" fill="none" data-v-f1308b60><path d="M17 10C17 13.866 13.866 17 10 17C6.134 17 3 13.866 3 10C3 6.134 6.134 3 10 3C11.848 3 13.545 3.711 14.828 4.879" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-f1308b60></path><path d="M14 1V5H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-f1308b60></path></svg><span data-v-f1308b60>Reset All</span></button><div class="visualizer-head" data-v-f1308b60><h3 data-v-f1308b60>CreationPolicy Flow Visualizer</h3><p data-v-f1308b60> Delete or recreate resources to see how changes cascade through the system. Watch how finalizers ensure proper cleanup order. Use &quot;Make Drift&quot; to see how WhenNeeded (Watch) and Once (Static) resources behave differently. </p></div><div class="flow-diagram-vertical" data-v-f1308b60><div class="flow-stage stage-db active" data-v-f1308b60><div class="stage-header" data-v-f1308b60><div class="stage-icon" data-v-f1308b60>ğŸ—„ï¸</div><div class="stage-info" data-v-f1308b60><div class="stage-title" data-v-f1308b60>Database</div><div class="stage-subtitle" data-v-f1308b60>External Data Source</div></div><div class="stage-status status-always" data-v-f1308b60>Always Active</div></div><div class="stage-content" data-v-f1308b60><div class="db-table" data-v-f1308b60><div class="db-row" data-v-f1308b60><span class="db-col" data-v-f1308b60>acme-corp</span><span class="db-col" data-v-f1308b60>acme.com</span><span class="db-status active" data-v-f1308b60>âœ“ active</span></div></div></div></div><svg class="active connection-vertical" viewBox="0 0 60 80" data-v-f1308b60><defs data-v-f1308b60><linearGradient id="grad-v1" x1="0%" y1="0%" x2="0%" y2="100%" data-v-f1308b60><stop offset="0%" stop-color="#42b883" stop-opacity="0" data-v-f1308b60></stop><stop offset="50%" stop-color="#42b883" stop-opacity="0.8" data-v-f1308b60></stop><stop offset="100%" stop-color="#42b883" stop-opacity="0" data-v-f1308b60></stop></linearGradient></defs><path d="M 30 0 L 30 80" stroke="#42b883" stroke-width="2" opacity="0.3" data-v-f1308b60></path><path d="M 30 0 L 30 80" stroke="url(#grad-v1)" stroke-width="2.5" class="animated-line" data-v-f1308b60></path><circle r="4" fill="#42b883" class="flow-dot" data-v-f1308b60><animateMotion dur="2s" repeatCount="indefinite" path="M 30 0 L 30 80" data-v-f1308b60></animateMotion></circle></svg><div class="active flow-stage stage-hub" data-v-f1308b60><div class="stage-header" data-v-f1308b60><div class="stage-icon" data-v-f1308b60>ğŸ“‹</div><div class="stage-info" data-v-f1308b60><div class="stage-title" data-v-f1308b60>LynqHub</div><div class="stage-subtitle" data-v-f1308b60>Syncs every 30s</div></div><div class="stage-actions" data-v-f1308b60><button class="action-btn delete-btn" data-v-f1308b60><span class="btn-icon" data-v-f1308b60>ğŸ—‘ï¸</span><span class="btn-label" data-v-f1308b60>Delete</span></button><!----></div></div><div class="status-active stage-status" data-v-f1308b60>Active</div></div><svg class="active connection-vertical" viewBox="0 0 60 80" data-v-f1308b60><defs data-v-f1308b60><linearGradient id="grad-v2" x1="0%" y1="0%" x2="0%" y2="100%" data-v-f1308b60><stop offset="0%" stop-color="#667eea" stop-opacity="0" data-v-f1308b60></stop><stop offset="50%" stop-color="#667eea" stop-opacity="0.8" data-v-f1308b60></stop><stop offset="100%" stop-color="#667eea" stop-opacity="0" data-v-f1308b60></stop></linearGradient></defs><path d="M 30 0 L 30 80" stroke="#667eea" stroke-width="2" opacity="0.3" data-v-f1308b60></path><path d="M 30 0 L 30 80" stroke="url(#grad-v2)" stroke-width="2.5" class="animated-line" data-v-f1308b60></path><circle r="4" fill="#667eea" class="flow-dot" data-v-f1308b60><animateMotion dur="2s" repeatCount="indefinite" path="M 30 0 L 30 80" begin="0.3s" data-v-f1308b60></animateMotion></circle></svg><div class="active flow-stage stage-form" data-v-f1308b60><div class="stage-header" data-v-f1308b60><div class="stage-icon" data-v-f1308b60>ğŸ“„</div><div class="stage-info" data-v-f1308b60><div class="stage-title" data-v-f1308b60>LynqForm</div><div class="stage-subtitle" data-v-f1308b60>Template (v1)</div></div><div class="stage-actions" data-v-f1308b60><button class="action-btn drift-btn" title="Simulate template change and propagate to resources" data-v-f1308b60><span class="btn-icon" data-v-f1308b60>ğŸ”„</span><span class="btn-label" data-v-f1308b60>Make Drift</span></button><button class="action-btn delete-btn" data-v-f1308b60><span class="btn-icon" data-v-f1308b60>ğŸ—‘ï¸</span><span class="btn-label" data-v-f1308b60>Delete</span></button><!----></div></div><div class="status-active stage-status" data-v-f1308b60>Active</div></div><svg class="active connection-vertical" viewBox="0 0 60 80" data-v-f1308b60><defs data-v-f1308b60><linearGradient id="grad-v3" x1="0%" y1="0%" x2="0%" y2="100%" data-v-f1308b60><stop offset="0%" stop-color="#41d1ff" stop-opacity="0" data-v-f1308b60></stop><stop offset="50%" stop-color="#41d1ff" stop-opacity="0.8" data-v-f1308b60></stop><stop offset="100%" stop-color="#41d1ff" stop-opacity="0" data-v-f1308b60></stop></linearGradient></defs><path d="M 30 0 L 30 80" stroke="#41d1ff" stroke-width="2" opacity="0.3" data-v-f1308b60></path><path d="M 30 0 L 30 80" stroke="url(#grad-v3)" stroke-width="2.5" class="animated-line" data-v-f1308b60></path><circle r="4" fill="#41d1ff" class="flow-dot" data-v-f1308b60><animateMotion dur="2s" repeatCount="indefinite" path="M 30 0 L 30 80" begin="0.6s" data-v-f1308b60></animateMotion></circle></svg><div class="active flow-stage stage-node" data-v-f1308b60><div class="stage-header" data-v-f1308b60><div class="stage-icon" data-v-f1308b60>ğŸ¢</div><div class="stage-info" data-v-f1308b60><div class="stage-title" data-v-f1308b60>LynqNode</div><div class="stage-subtitle" data-v-f1308b60>acme-corp (v1)</div></div><div class="stage-actions" data-v-f1308b60><button class="action-btn delete-btn" data-v-f1308b60><span class="btn-icon" data-v-f1308b60>ğŸ—‘ï¸</span><span class="btn-label" data-v-f1308b60>Delete</span></button></div></div><div class="status-active stage-status" data-v-f1308b60>Active</div><!----></div><svg class="active connection-vertical" viewBox="0 0 60 100" data-v-f1308b60><defs data-v-f1308b60><linearGradient id="grad-v4" x1="0%" y1="0%" x2="0%" y2="100%" data-v-f1308b60><stop offset="0%" stop-color="#f59e0b" stop-opacity="0" data-v-f1308b60></stop><stop offset="50%" stop-color="#f59e0b" stop-opacity="0.8" data-v-f1308b60></stop><stop offset="100%" stop-color="#f59e0b" stop-opacity="0" data-v-f1308b60></stop></linearGradient></defs><path d="M 20 0 L 20 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-f1308b60></path><path d="M 30 0 L 30 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-f1308b60></path><path d="M 40 0 L 40 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-f1308b60></path><path d="M 20 0 L 20 100" stroke="url(#grad-v4)" stroke-width="2" class="animated-line" style="animation-delay:0s;" data-v-f1308b60></path><path d="M 30 0 L 30 100" stroke="url(#grad-v4)" stroke-width="2" class="animated-line" style="animation-delay:0.2s;" data-v-f1308b60></path><path d="M 40 0 L 40 100" stroke="url(#grad-v4)" stroke-width="2" class="animated-line" style="animation-delay:0.4s;" data-v-f1308b60></path></svg><div class="active flow-stage stage-resources" data-v-f1308b60><div class="stage-header" data-v-f1308b60><div class="stage-icon" data-v-f1308b60>âš™ï¸</div><div class="stage-info" data-v-f1308b60><div class="stage-title" data-v-f1308b60>Cluster Resources</div><div class="stage-subtitle" data-v-f1308b60>Kubernetes Objects</div></div></div><div class="stage-content" data-v-f1308b60><div class="resources-list" data-v-f1308b60><div class="watching resource-item" data-v-f1308b60><div class="resource-info" data-v-f1308b60><span class="resource-kind" data-v-f1308b60>Deployment</span><span class="resource-name" data-v-f1308b60>acme-api</span><span class="resource-version" data-v-f1308b60>v1</span></div><div class="resource-actions" data-v-f1308b60><span class="watch-badge" title="Watching for LynqNode changes" data-v-f1308b60><span class="watch-icon" data-v-f1308b60>ğŸ‘ï¸</span><span class="watch-text" data-v-f1308b60>Watch</span></span><span class="resource-state" data-v-f1308b60>Active</span><button class="resource-delete-btn" title="Delete Deployment" data-v-f1308b60> ğŸ—‘ï¸ </button></div></div><div class="watching resource-item" data-v-f1308b60><div class="resource-info" data-v-f1308b60><span class="resource-kind" data-v-f1308b60>Service</span><span class="resource-name" data-v-f1308b60>acme-svc</span><span class="resource-version" data-v-f1308b60>v1</span></div><div class="resource-actions" data-v-f1308b60><span class="watch-badge" title="Watching for LynqNode changes" data-v-f1308b60><span class="watch-icon" data-v-f1308b60>ğŸ‘ï¸</span><span class="watch-text" data-v-f1308b60>Watch</span></span><span class="resource-state" data-v-f1308b60>Active</span><button class="resource-delete-btn" title="Delete Service" data-v-f1308b60> ğŸ—‘ï¸ </button></div></div><div class="watching resource-item" data-v-f1308b60><div class="resource-info" data-v-f1308b60><span class="resource-kind" data-v-f1308b60>Ingress</span><span class="resource-name" data-v-f1308b60>acme-ing</span><span class="resource-version" data-v-f1308b60>v1</span></div><div class="resource-actions" data-v-f1308b60><span class="watch-badge" title="Watching for LynqNode changes" data-v-f1308b60><span class="watch-icon" data-v-f1308b60>ğŸ‘ï¸</span><span class="watch-text" data-v-f1308b60>Watch</span></span><span class="resource-state" data-v-f1308b60>Active</span><button class="resource-delete-btn" title="Delete Ingress" data-v-f1308b60> ğŸ—‘ï¸ </button></div></div><div class="resource-item resource-item-special" data-v-f1308b60><div class="resource-info" data-v-f1308b60><span class="resource-kind resource-kind-job" data-v-f1308b60>Job</span><span class="resource-name" data-v-f1308b60>acme-init-job</span><span class="resource-version" data-v-f1308b60>v1</span></div><div class="resource-actions" data-v-f1308b60><span class="static-badge" title="Will not sync with LynqNode changes" data-v-f1308b60><span class="static-icon" data-v-f1308b60>ğŸ”’</span><span class="static-text" data-v-f1308b60>Static</span></span><span class="retain-badge" data-v-f1308b60>Retain</span><span class="resource-state" data-v-f1308b60>Active</span><button class="resource-delete-btn" title="Delete Job (will be retained after LynqNode deletion)" data-v-f1308b60> ğŸ—‘ï¸ </button></div></div></div><div class="policy-explanation" data-v-f1308b60><div class="explanation-item" data-v-f1308b60><span class="watch-badge-small" data-v-f1308b60><span class="watch-icon" data-v-f1308b60>ğŸ‘ï¸</span><span data-v-f1308b60>Watch</span></span><span class="explanation-text" data-v-f1308b60> Continuously syncs with LynqNode changes (CreationPolicy=WhenNeeded) </span></div><div class="explanation-item" data-v-f1308b60><span class="static-badge-small" data-v-f1308b60><span class="static-icon" data-v-f1308b60>ğŸ”’</span><span data-v-f1308b60>Static</span></span><span class="explanation-text" data-v-f1308b60> No sync after creation (CreationPolicy=Once) </span></div></div></div></div></div><div class="event-log" data-v-f1308b60><div class="event-log-title" data-v-f1308b60><span data-v-f1308b60>Event Log</span><span class="event-count" data-v-f1308b60>0</span></div><div class="event-list" data-v-f1308b60><!--[--><!--]--></div></div></div><h3 id="when-to-use-each-policy" tabindex="-1">When to Use Each Policy <a class="header-anchor" href="#when-to-use-each-policy" aria-label="Permalink to &quot;When to Use Each Policy&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>Scenario</th><th>Policy</th><th>Why</th></tr></thead><tbody><tr><td>Application Deployment</td><td><code>WhenNeeded</code></td><td>Should always match template</td></tr><tr><td>ConfigMap with settings</td><td><code>WhenNeeded</code></td><td>Settings should stay current</td></tr><tr><td>Database migration Job</td><td><code>Once</code></td><td>Should only run once</td></tr><tr><td>Bootstrap script</td><td><code>Once</code></td><td>Initialization is one-time</td></tr><tr><td>Certificate Secret</td><td><code>Once</code></td><td>Don&#39;t regenerate existing certs</td></tr></tbody></table><h2 id="problem-2-the-customer-data-that-vanished" tabindex="-1">Problem 2: The Customer Data That Vanished <a class="header-anchor" href="#problem-2-the-customer-data-that-vanished" aria-label="Permalink to &quot;Problem 2: The Customer Data That Vanished&quot;">â€‹</a></h2><h3 id="what-happened-1" tabindex="-1">What Happened <a class="header-anchor" href="#what-happened-1" aria-label="Permalink to &quot;What Happened&quot;">â€‹</a></h3><p>A SaaS platform stored customer uploads in PersistentVolumeClaims. When a customer cancelled their subscription, the database row was deleted, which triggered Lynq to clean up all associated resources - including the PVC with 3 years of customer data.</p><p>The customer later renewed their subscription. Their data was gone.</p><h3 id="the-root-cause-1" tabindex="-1">The Root Cause <a class="header-anchor" href="#the-root-cause-1" aria-label="Permalink to &quot;The Root Cause&quot;">â€‹</a></h3><p>By default, Lynq&#39;s <code>deletionPolicy</code> is <code>Delete</code> - when a LynqNode is removed, all associated resources are garbage collected via Kubernetes ownerReferences. This is correct for Deployments and Services, but devastating for data.</p><h3 id="the-solution-deletionpolicy-retain" tabindex="-1">The Solution: <code>deletionPolicy: Retain</code> <a class="header-anchor" href="#the-solution-deletionpolicy-retain" aria-label="Permalink to &quot;The Solution: `deletionPolicy: Retain`&quot;">â€‹</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">persistentVolumeClaims</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">customer-data</span></span>
<span class="line"><span style="color:#85E89D;">    deletionPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Retain</span><span style="color:#6A737D;">  # Never auto-delete, even if tenant is removed</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-data&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">v1</span></span>
<span class="line"><span style="color:#85E89D;">      kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#85E89D;">      spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">        accessModes</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;ReadWriteOnce&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#85E89D;">        resources</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">          requests</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">            storage</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">100Gi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>With <code>Retain</code>, Lynq uses label-based tracking instead of ownerReferences. When the LynqNode is deleted, the resource stays in the cluster with orphan markers:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">metadata</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    lynq.sh/orphaned</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#85E89D;">  annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    lynq.sh/orphaned-at</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2025-01-15T10:30:00Z&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    lynq.sh/orphaned-reason</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;LynqNodeDeleted&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="policy-visualizer" data-v-71c358c6><button class="replay-button" aria-label="Reset all resources" data-v-71c358c6><svg width="20" height="20" viewBox="0 0 20 20" fill="none" data-v-71c358c6><path d="M17 10C17 13.866 13.866 17 10 17C6.134 17 3 13.866 3 10C3 6.134 6.134 3 10 3C11.848 3 13.545 3.711 14.828 4.879" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-71c358c6></path><path d="M14 1V5H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-71c358c6></path></svg><span data-v-71c358c6>Reset All</span></button><div class="visualizer-head" data-v-71c358c6><h3 data-v-71c358c6>DeletionPolicy Flow Visualizer</h3><p data-v-71c358c6> Remove resources from LynqForm template or delete LynqNode to see how DeletionPolicy controls cleanup behavior. Compare <strong data-v-71c358c6>Delete</strong> (automatic removal) vs <strong data-v-71c358c6>Retain</strong> (keeps in cluster with orphan markers). </p></div><div class="flow-diagram-vertical" data-v-71c358c6><div class="flow-stage stage-form active" data-v-71c358c6><div class="stage-header" data-v-71c358c6><div class="stage-icon" data-v-71c358c6>ğŸ“„</div><div class="stage-info" data-v-71c358c6><div class="stage-title" data-v-71c358c6>LynqForm</div><div class="stage-subtitle" data-v-71c358c6>Template Definition</div></div></div><div class="stage-content" data-v-71c358c6><div class="template-resources" data-v-71c358c6><div class="template-resource" data-v-71c358c6><div class="template-resource-info" data-v-71c358c6><span class="template-resource-icon" data-v-71c358c6>ğŸ“¦</span><span class="template-resource-name" data-v-71c358c6>Deployment</span><span class="delete-badge-small" data-v-71c358c6><span class="delete-icon" data-v-71c358c6>ğŸ—‘ï¸</span><span data-v-71c358c6>Delete</span></span></div><button class="template-remove-btn" title="Remove from template" data-v-71c358c6> âœ• </button></div><div class="template-resource" data-v-71c358c6><div class="template-resource-info" data-v-71c358c6><span class="template-resource-icon" data-v-71c358c6>ğŸ’¾</span><span class="template-resource-name" data-v-71c358c6>PVC</span><span class="retain-badge-small" data-v-71c358c6><span class="retain-icon" data-v-71c358c6>ğŸ”’</span><span data-v-71c358c6>Retain</span></span></div><button class="template-remove-btn" title="Remove from template" data-v-71c358c6> âœ• </button></div></div></div><div class="stage-status status-active" data-v-71c358c6> Active </div></div><svg class="active connection-vertical" viewBox="0 0 60 80" data-v-71c358c6><defs data-v-71c358c6><linearGradient id="grad-form-node" x1="0%" y1="0%" x2="0%" y2="100%" data-v-71c358c6><stop offset="0%" stop-color="#667eea" stop-opacity="0" data-v-71c358c6></stop><stop offset="50%" stop-color="#667eea" stop-opacity="0.8" data-v-71c358c6></stop><stop offset="100%" stop-color="#667eea" stop-opacity="0" data-v-71c358c6></stop></linearGradient></defs><path d="M 30 0 L 30 80" stroke="#667eea" stroke-width="2" opacity="0.3" data-v-71c358c6></path><path d="M 30 0 L 30 80" stroke="url(#grad-form-node)" stroke-width="2.5" class="animated-line" data-v-71c358c6></path><circle r="4" fill="#667eea" class="flow-dot" data-v-71c358c6><animateMotion dur="2s" repeatCount="indefinite" path="M 30 0 L 30 80" data-v-71c358c6></animateMotion></circle></svg><div class="active flow-stage stage-node" data-v-71c358c6><div class="stage-header" data-v-71c358c6><div class="stage-icon" data-v-71c358c6>ğŸ¢</div><div class="stage-info" data-v-71c358c6><div class="stage-title" data-v-71c358c6>LynqNode</div><div class="stage-subtitle" data-v-71c358c6>acme-corp</div></div><div class="stage-actions" data-v-71c358c6><button class="action-btn delete-btn" title="Delete LynqNode (triggers finalizer)" data-v-71c358c6><span class="btn-icon" data-v-71c358c6>ğŸ—‘ï¸</span><span class="btn-label" data-v-71c358c6>Delete LynqNode</span></button></div></div><div class="status-active stage-status" data-v-71c358c6>Active</div></div><svg class="active connection-vertical" viewBox="0 0 60 100" data-v-71c358c6><defs data-v-71c358c6><linearGradient id="grad-node-resources" x1="0%" y1="0%" x2="0%" y2="100%" data-v-71c358c6><stop offset="0%" stop-color="#f59e0b" stop-opacity="0" data-v-71c358c6></stop><stop offset="50%" stop-color="#f59e0b" stop-opacity="0.8" data-v-71c358c6></stop><stop offset="100%" stop-color="#f59e0b" stop-opacity="0" data-v-71c358c6></stop></linearGradient></defs><path d="M 20 0 L 20 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-71c358c6></path><path d="M 40 0 L 40 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-71c358c6></path><path d="M 20 0 L 20 100" stroke="url(#grad-node-resources)" stroke-width="2" class="animated-line" style="animation-delay:0s;" data-v-71c358c6></path><path d="M 40 0 L 40 100" stroke="url(#grad-node-resources)" stroke-width="2" class="animated-line" style="animation-delay:0.3s;" data-v-71c358c6></path></svg><div class="active flow-stage stage-resources" data-v-71c358c6><div class="stage-header" data-v-71c358c6><div class="stage-icon" data-v-71c358c6>âš™ï¸</div><div class="stage-info" data-v-71c358c6><div class="stage-title" data-v-71c358c6>Cluster Resources</div><div class="stage-subtitle" data-v-71c358c6>Kubernetes Objects</div></div></div><div class="stage-content" data-v-71c358c6><div class="resources-list" data-v-71c358c6><div class="resource-item" data-v-71c358c6><div class="resource-info" data-v-71c358c6><span class="resource-kind" data-v-71c358c6>Deployment</span><span class="resource-name" data-v-71c358c6>acme-api</span></div><div class="resource-actions" data-v-71c358c6><span class="delete-badge" title="Will be deleted with LynqNode" data-v-71c358c6><span class="delete-icon" data-v-71c358c6>ğŸ—‘ï¸</span><span class="delete-text" data-v-71c358c6>Delete</span></span><span class="tracking-badge" title="Uses ownerReference for automatic cleanup" data-v-71c358c6><span class="tracking-text" data-v-71c358c6>ownerRef</span></span><span class="resource-state" data-v-71c358c6>Active</span><button class="resource-delete-btn" title="Delete Deployment" data-v-71c358c6> ğŸ—‘ï¸ </button></div></div><div class="resource-item resource-item-retained" data-v-71c358c6><div class="resource-info" data-v-71c358c6><span class="resource-kind resource-kind-pvc" data-v-71c358c6>PVC</span><span class="resource-name" data-v-71c358c6>acme-data</span></div><div class="resource-actions" data-v-71c358c6><span class="retain-badge" title="Will be retained when LynqNode is deleted" data-v-71c358c6><span class="retain-icon" data-v-71c358c6>ğŸ”’</span><span class="retain-text" data-v-71c358c6>Retain</span></span><span class="tracking-badge" title="Uses label-based tracking (no ownerReference)" data-v-71c358c6><span class="tracking-text" data-v-71c358c6>labels</span></span><span class="resource-state" data-v-71c358c6>Active</span><button class="resource-delete-btn" title="Delete PVC manually" data-v-71c358c6> ğŸ—‘ï¸ </button></div></div><!----><!----></div><div class="policy-explanation" data-v-71c358c6><div class="explanation-item" data-v-71c358c6><span class="delete-badge-small" data-v-71c358c6><span class="delete-icon" data-v-71c358c6>ğŸ—‘ï¸</span><span data-v-71c358c6>Delete</span></span><span class="explanation-text" data-v-71c358c6> Automatic cleanup via ownerReference (Kubernetes garbage collector) </span></div><div class="explanation-item" data-v-71c358c6><span class="retain-badge-small" data-v-71c358c6><span class="retain-icon" data-v-71c358c6>ğŸ”’</span><span data-v-71c358c6>Retain</span></span><span class="explanation-text" data-v-71c358c6> Stays in cluster with orphan markers (label-based tracking, no ownerReference) </span></div></div></div></div></div><div class="event-log" data-v-71c358c6><div class="event-log-title" data-v-71c358c6><span data-v-71c358c6>Event Log</span><span class="event-count" data-v-71c358c6>0</span></div><div class="event-list" data-v-71c358c6><!--[--><!--]--></div></div></div><h3 id="managing-orphaned-resources" tabindex="-1">Managing Orphaned Resources <a class="header-anchor" href="#managing-orphaned-resources" aria-label="Permalink to &quot;Managing Orphaned Resources&quot;">â€‹</a></h3><p>Resources with <code>Retain</code> won&#39;t auto-delete, so you need a cleanup process:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Find all orphaned resources</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pvc</span><span style="color:#79B8FF;"> -A</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/orphaned=</span><span style="color:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find resources orphaned more than 90 days ago (manual filtering)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pvc</span><span style="color:#79B8FF;"> -A</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/orphaned=</span><span style="color:#79B8FF;">true</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> json</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#B392F0;">  jq</span><span style="color:#9ECBFF;"> &#39;.items[] | select(.metadata.annotations[&quot;lynq.sh/orphaned-at&quot;] &lt; &quot;2024-10-01&quot;)&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Tip:</strong> Set up a scheduled job to review orphaned resources periodically, apply your data retention policy, and delete what&#39;s no longer needed.</p><h2 id="problem-3-the-silent-overwrite-war" tabindex="-1">Problem 3: The Silent Overwrite War <a class="header-anchor" href="#problem-3-the-silent-overwrite-war" aria-label="Permalink to &quot;Problem 3: The Silent Overwrite War&quot;">â€‹</a></h2><h3 id="what-happened-2" tabindex="-1">What Happened <a class="header-anchor" href="#what-happened-2" aria-label="Permalink to &quot;What Happened&quot;">â€‹</a></h3><p>Team A used Lynq to manage application Deployments. Team B manually created a Deployment with the same name for testing. When Lynq reconciled, it silently took over Team B&#39;s Deployment, replacing their test configuration with the template spec.</p><p>Team B spent hours debugging why their changes kept disappearing.</p><h3 id="the-root-cause-2" tabindex="-1">The Root Cause <a class="header-anchor" href="#the-root-cause-2" aria-label="Permalink to &quot;The Root Cause&quot;">â€‹</a></h3><p>With Server-Side Apply&#39;s default behavior, if you apply a resource, you become the owner of the fields you specified. If another system had different values for those fields, yours win.</p><h3 id="the-solution-conflictpolicy-stuck" tabindex="-1">The Solution: <code>conflictPolicy: Stuck</code> <a class="header-anchor" href="#the-solution-conflictpolicy-stuck" aria-label="Permalink to &quot;The Solution: `conflictPolicy: Stuck`&quot;">â€‹</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    conflictPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Stuck</span><span style="color:#6A737D;">  # Stop if someone else owns this resource</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-app&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">      # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>With <code>Stuck</code> (the default), Lynq detects ownership conflicts and stops reconciliation for that resource. The LynqNode is marked as <code>Degraded</code>, and an event is emitted:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>ResourceConflict: Resource conflict detected for default/acme-app</span></span>
<span class="line"><span>(Kind: Deployment, Policy: Stuck). Another controller owns this resource.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="policy-visualizer" data-v-b8013e93><button class="replay-button" aria-label="Reset all resources" data-v-b8013e93><svg width="20" height="20" viewBox="0 0 20 20" fill="none" data-v-b8013e93><path d="M17 10C17 13.866 13.866 17 10 17C6.134 17 3 13.866 3 10C3 6.134 6.134 3 10 3C11.848 3 13.545 3.711 14.828 4.879" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-b8013e93></path><path d="M14 1V5H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b8013e93></path></svg><span data-v-b8013e93>Reset All</span></button><div class="visualizer-head" data-v-b8013e93><h3 data-v-b8013e93>ConflictPolicy Flow Visualizer</h3><p data-v-b8013e93> Trigger ownership conflicts to see how ConflictPolicy handles conflicts. Compare <strong data-v-b8013e93>Stuck</strong> (safe halt) vs <strong data-v-b8013e93>Force</strong> (SSA force takeover). </p></div><div class="flow-diagram-vertical" data-v-b8013e93><div class="flow-stage stage-form active" data-v-b8013e93><div class="stage-header" data-v-b8013e93><div class="stage-icon" data-v-b8013e93>ğŸ“„</div><div class="stage-info" data-v-b8013e93><div class="stage-title" data-v-b8013e93>LynqForm</div><div class="stage-subtitle" data-v-b8013e93>Template Definition</div></div></div><div class="stage-content" data-v-b8013e93><div class="template-resources" data-v-b8013e93><div class="template-resource" data-v-b8013e93><div class="template-resource-info" data-v-b8013e93><span class="template-resource-icon" data-v-b8013e93>ğŸŒ</span><span class="template-resource-name" data-v-b8013e93>Service</span><span class="stuck-badge-small" data-v-b8013e93><span class="stuck-icon" data-v-b8013e93>âš ï¸</span><span data-v-b8013e93>Stuck</span></span></div></div><div class="template-resource" data-v-b8013e93><div class="template-resource-info" data-v-b8013e93><span class="template-resource-icon" data-v-b8013e93>ğŸ“¦</span><span class="template-resource-name" data-v-b8013e93>Deployment</span><span class="force-badge-small" data-v-b8013e93><span class="force-icon" data-v-b8013e93>âš¡</span><span data-v-b8013e93>Force</span></span></div></div></div></div><div class="stage-status status-active" data-v-b8013e93> Active </div></div><svg class="active connection-vertical" viewBox="0 0 60 80" data-v-b8013e93><defs data-v-b8013e93><linearGradient id="grad-form-node-conflict" x1="0%" y1="0%" x2="0%" y2="100%" data-v-b8013e93><stop offset="0%" stop-color="#667eea" stop-opacity="0" data-v-b8013e93></stop><stop offset="50%" stop-color="#667eea" stop-opacity="0.8" data-v-b8013e93></stop><stop offset="100%" stop-color="#667eea" stop-opacity="0" data-v-b8013e93></stop></linearGradient></defs><path d="M 30 0 L 30 80" stroke="#667eea" stroke-width="2" opacity="0.3" data-v-b8013e93></path><path d="M 30 0 L 30 80" stroke="url(#grad-form-node-conflict)" stroke-width="2.5" class="animated-line" data-v-b8013e93></path><circle r="4" fill="#667eea" class="flow-dot" data-v-b8013e93><animateMotion dur="2s" repeatCount="indefinite" path="M 30 0 L 30 80" data-v-b8013e93></animateMotion></circle></svg><div class="active flow-stage stage-node" data-v-b8013e93><div class="stage-header" data-v-b8013e93><div class="stage-icon" data-v-b8013e93>ğŸ¢</div><div class="stage-info" data-v-b8013e93><div class="stage-title" data-v-b8013e93>LynqNode</div><div class="stage-subtitle" data-v-b8013e93>acme-corp</div></div></div><div class="status-healthy stage-status" data-v-b8013e93>Healthy</div><!----></div><svg class="active connection-vertical" viewBox="0 0 60 100" data-v-b8013e93><defs data-v-b8013e93><linearGradient id="grad-node-resources-conflict" x1="0%" y1="0%" x2="0%" y2="100%" data-v-b8013e93><stop offset="0%" stop-color="#f59e0b" stop-opacity="0" data-v-b8013e93></stop><stop offset="50%" stop-color="#f59e0b" stop-opacity="0.8" data-v-b8013e93></stop><stop offset="100%" stop-color="#f59e0b" stop-opacity="0" data-v-b8013e93></stop></linearGradient></defs><path d="M 20 0 L 20 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-b8013e93></path><path d="M 40 0 L 40 100" stroke="#f59e0b" stroke-width="1.5" opacity="0.2" data-v-b8013e93></path><path d="M 20 0 L 20 100" stroke="url(#grad-node-resources-conflict)" stroke-width="2" class="animated-line" style="animation-delay:0s;" data-v-b8013e93></path><path d="M 40 0 L 40 100" stroke="url(#grad-node-resources-conflict)" stroke-width="2" class="animated-line" style="animation-delay:0.3s;" data-v-b8013e93></path></svg><div class="active flow-stage stage-resources" data-v-b8013e93><div class="stage-header" data-v-b8013e93><div class="stage-icon" data-v-b8013e93>âš™ï¸</div><div class="stage-info" data-v-b8013e93><div class="stage-title" data-v-b8013e93>Cluster Resources</div><div class="stage-subtitle" data-v-b8013e93>Kubernetes Objects</div></div></div><div class="stage-content" data-v-b8013e93><div class="resources-list" data-v-b8013e93><div class="resource-item" data-v-b8013e93><div class="resource-info" data-v-b8013e93><span class="resource-kind" data-v-b8013e93>Service</span><span class="resource-name" data-v-b8013e93>acme-svc</span></div><div class="resource-actions" data-v-b8013e93><span class="stuck-badge" title="Stops on conflict" data-v-b8013e93><span class="stuck-icon" data-v-b8013e93>âš ï¸</span><span class="stuck-text" data-v-b8013e93>Stuck</span></span><!----><span class="resource-state" data-v-b8013e93>Active</span><button class="resource-conflict-btn" title="Simulate ownership conflict" data-v-b8013e93> âš¡ </button><!----></div></div><div class="resource-item" data-v-b8013e93><div class="resource-info" data-v-b8013e93><span class="resource-kind" data-v-b8013e93>Deployment</span><span class="resource-name" data-v-b8013e93>acme-api</span></div><div class="resource-actions" data-v-b8013e93><span class="force-badge" title="Force takes ownership" data-v-b8013e93><span class="force-icon" data-v-b8013e93>âš¡</span><span class="force-text" data-v-b8013e93>Force</span></span><!----><span class="resource-state" data-v-b8013e93>Active</span><button class="resource-conflict-btn" title="Simulate ownership conflict" data-v-b8013e93> âš¡ </button></div></div></div><div class="policy-explanation" data-v-b8013e93><div class="explanation-item" data-v-b8013e93><span class="stuck-badge-small" data-v-b8013e93><span class="stuck-icon" data-v-b8013e93>âš ï¸</span><span data-v-b8013e93>Stuck</span></span><span class="explanation-text" data-v-b8013e93> Halts reconciliation on conflict, marks LynqNode as Degraded (safe but requires manual fix) </span></div><div class="explanation-item" data-v-b8013e93><span class="force-badge-small" data-v-b8013e93><span class="force-icon" data-v-b8013e93>âš¡</span><span data-v-b8013e93>Force</span></span><span class="explanation-text" data-v-b8013e93> Uses SSA force=true to take ownership (aggressive, keeps reconciliation healthy) </span></div></div></div></div></div><div class="event-log" data-v-b8013e93><div class="event-log-title" data-v-b8013e93><span data-v-b8013e93>Event Log</span><span class="event-count" data-v-b8013e93>0</span></div><div class="event-list" data-v-b8013e93><!--[--><!--]--></div></div></div><h3 id="when-to-use-force" tabindex="-1">When to Use <code>Force</code> <a class="header-anchor" href="#when-to-use-force" aria-label="Permalink to &quot;When to Use `Force`&quot;">â€‹</a></h3><p>Sometimes you <em>want</em> Lynq to take over. For example, when migrating from another management system:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    conflictPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Force</span><span style="color:#6A737D;">  # Take ownership even if someone else has it</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-app&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">      # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>With <code>Force</code>, Lynq uses Server-Side Apply with <code>force=true</code> to claim ownership. Use this deliberately, not as a default.</p><table tabindex="0"><thead><tr><th>Scenario</th><th>Policy</th><th>Why</th></tr></thead><tbody><tr><td>Normal operation</td><td><code>Stuck</code></td><td>Detect conflicts early</td></tr><tr><td>Migration from Helm/Kustomize</td><td><code>Force</code></td><td>Intentionally taking over</td></tr><tr><td>Shared resources</td><td><code>Stuck</code></td><td>Avoid stepping on others</td></tr><tr><td>Lynq is sole owner</td><td><code>Force</code></td><td>No other controllers involved</td></tr></tbody></table><h2 id="problem-4-the-hpa-that-stopped-working" tabindex="-1">Problem 4: The HPA That Stopped Working <a class="header-anchor" href="#problem-4-the-hpa-that-stopped-working" aria-label="Permalink to &quot;Problem 4: The HPA That Stopped Working&quot;">â€‹</a></h2><h3 id="what-happened-3" tabindex="-1">What Happened <a class="header-anchor" href="#what-happened-3" aria-label="Permalink to &quot;What Happened&quot;">â€‹</a></h3><p>A team configured HorizontalPodAutoscaler to manage their Deployment replicas. Lynq&#39;s template specified <code>replicas: 3</code>. Every time Lynq reconciled, it reset replicas back to 3, fighting the HPA.</p><p>The HPA would scale to 10 replicas under load. Seconds later, Lynq would scale back to 3. The application oscillated wildly.</p><h3 id="the-root-cause-3" tabindex="-1">The Root Cause <a class="header-anchor" href="#the-root-cause-3" aria-label="Permalink to &quot;The Root Cause&quot;">â€‹</a></h3><p>Server-Side Apply tracks field ownership. When Lynq applies a template with <code>replicas: 3</code>, it becomes the owner of that field. When HPA tries to update replicas, there&#39;s a conflict.</p><h3 id="the-solution-patchstrategy-and-field-awareness" tabindex="-1">The Solution: <code>patchStrategy</code> and Field Awareness <a class="header-anchor" href="#the-solution-patchstrategy-and-field-awareness" aria-label="Permalink to &quot;The Solution: `patchStrategy` and Field Awareness&quot;">â€‹</a></h3><p><strong>Option 1: Don&#39;t specify replicas in the template</strong></p><p>The simplest fix is to not include the conflicting field:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-app&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="color:#85E89D;">      kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="color:#85E89D;">      spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">        # replicas: 3  # Don&#39;t specify - let HPA manage it</span></span>
<span class="line"><span style="color:#85E89D;">        selector</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">          matchLabels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">            app</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">myapp</span></span>
<span class="line"><span style="color:#85E89D;">        template</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">          # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>Option 2: Use <code>creationPolicy: Once</code></strong></p><p>If you need an initial replica count but want HPA to manage it afterwards:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    creationPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Once</span><span style="color:#6A737D;">  # Set initial state, then hands-off</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-app&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="color:#85E89D;">      kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="color:#85E89D;">      spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">        replicas</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#6A737D;">  # Initial value only</span></span>
<span class="line"><span style="color:#6A737D;">        # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Option 3: Use <code>ignoreFields</code> (v1.1.4+)</strong></p><p>For fine-grained control, ignore specific fields during reconciliation:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    ignoreFields</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">path</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;spec.replicas&quot;</span><span style="color:#6A737D;">  # Ignore this field during updates</span></span>
<span class="line"><span style="color:#85E89D;">    nameTemplate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ .uid }}-app&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">      # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="patchstrategy-options" tabindex="-1">PatchStrategy Options <a class="header-anchor" href="#patchstrategy-options" aria-label="Permalink to &quot;PatchStrategy Options&quot;">â€‹</a></h3><p>Different strategies handle updates differently:</p><table tabindex="0"><thead><tr><th>Strategy</th><th>Behavior</th><th>Use Case</th></tr></thead><tbody><tr><td><code>apply</code> (default)</td><td>Server-Side Apply with field ownership</td><td>Most resources</td></tr><tr><td><code>merge</code></td><td>Strategic merge patch, preserves unspecified fields</td><td>Legacy compatibility</td></tr><tr><td><code>replace</code></td><td>Full replacement, removes unspecified fields</td><td>ConfigMaps needing exact state</td></tr></tbody></table><h2 id="problem-5-the-template-change-that-brought-down-everything" tabindex="-1">Problem 5: The Template Change That Brought Down Everything <a class="header-anchor" href="#problem-5-the-template-change-that-brought-down-everything" aria-label="Permalink to &quot;Problem 5: The Template Change That Brought Down Everything&quot;">â€‹</a></h2><h3 id="what-happened-4" tabindex="-1">What Happened <a class="header-anchor" href="#what-happened-4" aria-label="Permalink to &quot;What Happened&quot;">â€‹</a></h3><p>An engineer updated the container image in a LynqForm template that managed 500 tenants. Within seconds, all 500 Deployments started rolling out simultaneously.</p><p>The container registry couldn&#39;t handle 500 concurrent image pulls. The Kubernetes API server was overwhelmed with update requests. Network bandwidth saturated.</p><p>The new image had a subtle bug. By the time anyone noticed, all 500 tenants were affected.</p><h3 id="the-root-cause-4" tabindex="-1">The Root Cause <a class="header-anchor" href="#the-root-cause-4" aria-label="Permalink to &quot;The Root Cause&quot;">â€‹</a></h3><p>When a LynqForm template changes, Lynq reconciles all LynqNodes using that template. Without rate limiting, this happens all at once.</p><h3 id="the-solution-maxskew" tabindex="-1">The Solution: <code>maxSkew</code> <a class="header-anchor" href="#the-solution-maxskew" aria-label="Permalink to &quot;The Solution: `maxSkew`&quot;">â€‹</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">lynq.sh/v1</span></span>
<span class="line"><span style="color:#85E89D;">kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">LynqHub</span></span>
<span class="line"><span style="color:#85E89D;">metadata</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">production-hub</span></span>
<span class="line"><span style="color:#85E89D;">spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  rollout</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    maxSkew</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#6A737D;">  # Only 10 nodes updating at any time</span></span>
<span class="line"><span style="color:#85E89D;">  source</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">    # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>With <code>maxSkew: 10</code>, Lynq updates at most 10 nodes concurrently. It waits for each batch&#39;s Pods to reach Ready state before starting the next batch.</p><div class="rollout-animation" data-v-c4115ccd><div class="animation-panels" data-v-c4115ccd><div class="panel danger-panel" data-v-c4115ccd><div class="panel-header" data-v-c4115ccd><span class="panel-icon" data-v-c4115ccd>âš ï¸</span><span class="panel-title" data-v-c4115ccd>Without maxSkew</span></div><div class="panel-subtitle" data-v-c4115ccd>All nodes update simultaneously</div><div class="nodes-grid" data-v-c4115ccd><!--[--><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>1</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>2</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>3</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>4</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>5</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>6</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>7</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>8</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>9</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>10</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>11</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>12</div></div><!--]--></div><div class="panel-status" data-v-c4115ccd>Waiting...</div></div><div class="panel safe-panel" data-v-c4115ccd><div class="panel-header" data-v-c4115ccd><span class="panel-icon" data-v-c4115ccd>âœ…</span><span class="panel-title" data-v-c4115ccd>With maxSkew: 3</span></div><div class="panel-subtitle" data-v-c4115ccd>Controlled sliding window</div><div class="nodes-grid" data-v-c4115ccd><!--[--><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>1</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>2</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>3</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>4</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>5</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>6</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>7</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>8</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>9</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>10</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>11</div></div><div class="idle node" data-v-c4115ccd><div class="node-inner" data-v-c4115ccd><span class="node-icon" data-v-c4115ccd>â—‹</span></div><div class="node-label" data-v-c4115ccd>12</div></div><!--]--></div><div class="panel-status safe" data-v-c4115ccd>Waiting...</div></div></div><div class="progress-section" data-v-c4115ccd><div class="progress-bar" data-v-c4115ccd><div class="progress-fill" style="width:0%;" data-v-c4115ccd></div></div><div class="progress-label" data-v-c4115ccd>Click to start</div></div></div><h3 id="calculating-maxskew" tabindex="-1">Calculating maxSkew <a class="header-anchor" href="#calculating-maxskew" aria-label="Permalink to &quot;Calculating maxSkew&quot;">â€‹</a></h3><p>Consider your infrastructure capacity:</p><table tabindex="0"><thead><tr><th>Factor</th><th>Consideration</th></tr></thead><tbody><tr><td>Registry bandwidth</td><td>How many concurrent pulls can it handle?</td></tr><tr><td>API server load</td><td>How many concurrent updates?</td></tr><tr><td>Acceptable blast radius</td><td>If new version is buggy, how many tenants can be affected before you notice?</td></tr><tr><td>Rollout time</td><td>500 nodes with maxSkew=10 = 50 batches</td></tr></tbody></table><p><strong>Rule of thumb:</strong> Start with 5-10% of total nodes. For 500 nodes, <code>maxSkew: 25-50</code> gives you time to detect issues before full rollout.</p><p>For a deep dive into how we implemented maxSkew and the edge cases we discovered, see <a href="/blog/maxskew-implementation-lessons.html">Implementing maxSkew: How to Safely Update Nodes at Scale</a>.</p><h2 id="the-five-policies-summary" tabindex="-1">The Five Policies Summary <a class="header-anchor" href="#the-five-policies-summary" aria-label="Permalink to &quot;The Five Policies Summary&quot;">â€‹</a></h2><p>Each problem has a corresponding policy solution:</p><table tabindex="0"><thead><tr><th>Problem</th><th>Default Behavior</th><th>Policy</th><th>Solution Value</th></tr></thead><tbody><tr><td>Init Job runs repeatedly</td><td><code>WhenNeeded</code></td><td><code>creationPolicy: Once</code></td><td>One-time execution</td></tr><tr><td>Data deleted with tenant</td><td><code>Delete</code></td><td><code>deletionPolicy: Retain</code></td><td>Data preservation</td></tr><tr><td>Silent resource overwrite</td><td>Continue</td><td><code>conflictPolicy: Stuck</code></td><td>Conflict detection</td></tr><tr><td>HPA fights with template</td><td>Apply all fields</td><td><code>ignoreFields</code> / <code>patchStrategy</code></td><td>Field-level control</td></tr><tr><td>Blast radius on update</td><td>All at once</td><td><code>maxSkew</code></td><td>Gradual rollout</td></tr></tbody></table><h2 id="key-takeaways" tabindex="-1">Key Takeaways <a class="header-anchor" href="#key-takeaways" aria-label="Permalink to &quot;Key Takeaways&quot;">â€‹</a></h2><ol><li><p><strong>Defaults are optimized for correctness, not safety.</strong> <code>WhenNeeded</code> and <code>Delete</code> make sense for most resources, but can be dangerous for Jobs and data.</p></li><li><p><strong>Think about lifecycle at design time.</strong> Retrofitting policies after an incident is painful. Ask &quot;what should happen when this is deleted?&quot; for every resource.</p></li><li><p><strong>Conflicts are features, not bugs.</strong> <code>Stuck</code> policy makes conflicts visible. Silent overwrites are far worse than explicit failures.</p></li><li><p><strong>Rate limit everything at scale.</strong> Any operation that runs against hundreds of resources needs throttling. <code>maxSkew</code> prevents self-inflicted outages.</p></li><li><p><strong>Test deletion scenarios.</strong> Most teams test creation thoroughly but never test what happens when things are removed.</p></li></ol><hr><p>For complete policy documentation, see <a href="/policies.html">Policies Guide</a>. For more detailed examples with diagrams, see <a href="/policies-examples.html">Policy Examples</a>.</p><p><em>Have you encountered lifecycle issues we didn&#39;t cover? Share your experience on <a href="https://github.com/k8s-lynq/lynq/discussions" target="_blank" rel="noreferrer">GitHub Discussions</a>.</em></p><div class="blog-post-footer" data-v-96bb2b6b><a href="/blog/" class="back-link" data-v-96bb2b6b><span class="arrow" data-v-96bb2b6b>â†</span><span data-v-96bb2b6b>Back to Blog</span></a></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><!----><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Updated at: <time datetime="2025-12-18T06:23:59.000Z" data-v-1bb0c8a8></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4><p style="margin-bottom: 12px">Released under the Apache 2.0 License.<br />Built with â¤ï¸ using Kubebuilder, Controller-Runtime, and VitePress.</p></p><p class="copyright" data-v-566314d4>Copyright Â© 2025 Lynq</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about-lynq.md\":\"ZBExmeUr\",\"advanced-use-cases.md\":\"BStMfWym\",\"alert-runbooks.md\":\"Pnxmuto8\",\"api.md\":\"BPGIrSfb\",\"architecture.md\":\"BGqqFbMb\",\"blog_index.md\":\"DOWmHoB8\",\"blog_introducing-lynq-dashboard.md\":\"QEo8W_cU\",\"blog_managing-resource-lifecycle.md\":\"BF7VS8qT\",\"blog_maxskew-implementation-lessons.md\":\"aydcPcP2\",\"blog_why-i-built-lynq.md\":\"Bh5lIm2Y\",\"configuration.md\":\"C5PYmgaG\",\"contributing-datasource.md\":\"BRC1c0qI\",\"dashboard.md\":\"DgSB4nEo\",\"datasource.md\":\"C1YAM2J9\",\"dependencies.md\":\"9_e5YCop\",\"dependency-visualizer.md\":\"B_LWpmiP\",\"development.md\":\"CmkBYYNu\",\"field-ignore.md\":\"DIqk7z8L\",\"glossary.md\":\"Cn8SFyK-\",\"how-it-works.md\":\"_49HaOmv\",\"index.md\":\"BGZ0ScjJ\",\"installation.md\":\"Lnp9uF-A\",\"integration-argocd.md\":\"CLaUOkHg\",\"integration-crossplane.md\":\"C3qTGlnn\",\"integration-external-dns.md\":\"DzVSdGWx\",\"integration-flux.md\":\"CoyYqsdb\",\"local-development-minikube.md\":\"BKmRjXU8\",\"monitoring.md\":\"OEd4CRc8\",\"performance.md\":\"DSkBaorB\",\"policies-examples.md\":\"COZtJsmb\",\"policies.md\":\"DzFPmLZF\",\"prometheus-queries.md\":\"D_hDQKza\",\"quickstart.md\":\"59prwbBW\",\"recordops.md\":\"DBNpKHmQ\",\"roadmap.md\":\"D8xb5x2C\",\"security.md\":\"xMCtmX-s\",\"template-builder.md\":\"THfpmsY6\",\"templates.md\":\"D86GK-4m\",\"troubleshooting.md\":\"Dxeliwg3\",\"use-case-blue-green.md\":\"B2ECJd9j\",\"use-case-custom-domains.md\":\"B10qcfre\",\"use-case-database-per-tenant.md\":\"Byit2Anz\",\"use-case-feature-flags.md\":\"jmUs1b2F\",\"use-case-multi-tier.md\":\"CFevax9z\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Lynq\",\"description\":\"Infrastructure as Data for Kubernetes - A RecordOps Platform\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"force-dark\",\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"Docs\",\"link\":\"/quickstart\"},{\"text\":\"Blog\",\"link\":\"/blog/\"},{\"text\":\"Links\",\"items\":[{\"text\":\"GitHub\",\"link\":\"https://github.com/k8s-lynq/lynq\"},{\"text\":\"RSS Feed\",\"link\":\"/feed.xml\"}]}],\"sidebar\":[{\"text\":\"Getting Started\",\"collapsed\":false,\"items\":[{\"text\":\"About Lynq\",\"link\":\"/about-lynq\"},{\"text\":\"Installation\",\"link\":\"/installation\"},{\"text\":\"Quick Start\",\"link\":\"/quickstart\"},{\"text\":\"Dashboard\",\"link\":\"/dashboard\"}]},{\"text\":\"Core Concepts\",\"collapsed\":false,\"items\":[{\"text\":\"Infrastructure as Data\",\"link\":\"/recordops\"},{\"text\":\"How It Works\",\"link\":\"/how-it-works\"},{\"text\":\"Architecture\",\"link\":\"/architecture\"},{\"text\":\"API Reference\",\"link\":\"/api\"},{\"text\":\"Configuration\",\"link\":\"/configuration\"},{\"text\":\"Datasources\",\"link\":\"/datasource\"},{\"text\":\"Templates\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/templates\"},{\"text\":\"ğŸ› ï¸ Form Builder\",\"link\":\"/template-builder\"}]},{\"text\":\"Dependencies\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/dependencies\"},{\"text\":\"ğŸ” Visualizer\",\"link\":\"/dependency-visualizer\"}]},{\"text\":\"Policies\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/policies\"},{\"text\":\"Examples\",\"link\":\"/policies-examples\"},{\"text\":\"Field-Level Ignore\",\"link\":\"/field-ignore\"}]}]},{\"text\":\"Advanced Use Cases\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/advanced-use-cases\"},{\"text\":\"Custom Domains\",\"link\":\"/use-case-custom-domains\"},{\"text\":\"Multi-Tier Stack\",\"link\":\"/use-case-multi-tier\"},{\"text\":\"Blue-Green Deployments\",\"link\":\"/use-case-blue-green\"},{\"text\":\"Database-per-Tenant\",\"link\":\"/use-case-database-per-tenant\"},{\"text\":\"Feature Flags\",\"link\":\"/use-case-feature-flags\"}]},{\"text\":\"Operations\",\"collapsed\":false,\"items\":[{\"text\":\"Monitoring & Observability\",\"link\":\"/monitoring\"},{\"text\":\"Prometheus Queries\",\"link\":\"/prometheus-queries\"},{\"text\":\"Performance Tuning\",\"link\":\"/performance\"},{\"text\":\"Security\",\"link\":\"/security\"},{\"text\":\"Troubleshooting\",\"link\":\"/troubleshooting\"},{\"text\":\"Alert Runbooks\",\"link\":\"/alert-runbooks\"}]},{\"text\":\"Integrations\",\"collapsed\":false,\"items\":[{\"text\":\"Crossplane (Recommended)\",\"link\":\"/integration-crossplane\"},{\"text\":\"External DNS (Recommended)\",\"link\":\"/integration-external-dns\"},{\"text\":\"Flux\",\"link\":\"/integration-flux\"},{\"text\":\"Argo CD\",\"link\":\"/integration-argocd\"}]},{\"text\":\"Development\",\"collapsed\":false,\"items\":[{\"text\":\"Local Development\",\"link\":\"/local-development-minikube\"},{\"text\":\"Development Guide\",\"link\":\"/development\"},{\"text\":\"Contributing\",\"link\":\"/contributing-datasource\"},{\"text\":\"Roadmap\",\"link\":\"/roadmap\"}]},{\"text\":\"Glossary\",\"link\":\"/glossary\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"<p style=\\\"margin-bottom: 12px\\\">Released under the Apache 2.0 License.<br />Built with â¤ï¸ using Kubebuilder, Controller-Runtime, and VitePress.</p>\",\"copyright\":\"Copyright Â© 2025 Lynq\"},\"editLink\":{\"pattern\":\"https://github.com/k8s-lynq/lynq/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Updated at\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>