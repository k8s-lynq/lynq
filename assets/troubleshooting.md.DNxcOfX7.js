import{_ as e,c as p,o,a3 as l,j as s,a,t as r}from"./chunks/framework.ZsQ6jjYb.js";const m=JSON.parse('{"title":"Troubleshooting Guide","description":"","frontmatter":{},"headers":[],"relativePath":"troubleshooting.md","filePath":"troubleshooting.md","lastUpdated":1767596577000}'),t={name:"troubleshooting.md"},c={tabindex:"0"};function i(y,n,F,u,d,b){return o(),p("div",null,[n[12]||(n[12]=l(`<h1 id="troubleshooting-guide" tabindex="-1">Troubleshooting Guide <a class="header-anchor" href="#troubleshooting-guide" aria-label="Permalink to &quot;Troubleshooting Guide&quot;">​</a></h1><p>Common issues and solutions for Lynq.</p><nav class="table-of-contents"><ul><li><a href="#quick-diagnostic-decision-tree">Quick Diagnostic Decision Tree</a></li><li><a href="#general-debugging">General Debugging</a><ul><li><a href="#check-operator-status">Check Operator Status</a></li><li><a href="#check-crd-status">Check CRD Status</a></li></ul></li><li><a href="#common-issues">Common Issues</a><ul><li><a href="#_1-webhook-tls-certificate-errors">1. Webhook TLS Certificate Errors</a></li><li><a href="#_2-lynqnode-not-creating-resources">2. LynqNode Not Creating Resources</a></li><li><a href="#_3-database-connection-failures">3. Database Connection Failures</a></li><li><a href="#_4-lynqnode-status-not-updating">4. LynqNode Status Not Updating</a></li><li><a href="#_5-template-variables-not-substituting">5. Template Variables Not Substituting</a></li><li><a href="#_6-slow-lynqnode-provisioning">6. Slow LynqNode Provisioning</a></li><li><a href="#_7-memory-cpu-issues">7. Memory/CPU Issues</a></li><li><a href="#_8-finalizer-stuck">8. Finalizer Stuck</a></li><li><a href="#_9-hub-not-syncing">9. Hub Not Syncing</a></li><li><a href="#_10-multi-form-issues">10. Multi-Form Issues</a></li><li><a href="#_11-orphaned-resources-not-cleaning-up">11. Orphaned Resources Not Cleaning Up</a></li><li><a href="#_12-lynqnode-showing-degraded-with-resourcesnotready">12. LynqNode Showing Degraded with ResourcesNotReady</a></li></ul></li><li><a href="#debugging-workflows">Debugging Workflows</a><ul><li><a href="#debug-template-rendering">Debug Template Rendering</a></li><li><a href="#debug-database-connection">Debug Database Connection</a></li><li><a href="#debug-reconciliation">Debug Reconciliation</a></li><li><a href="#reconciliation-log-analysis-success-vs-failure-patterns">Reconciliation Log Analysis: Success vs Failure Patterns</a></li></ul></li><li><a href="#getting-help">Getting Help</a></li></ul></nav><h2 id="quick-diagnostic-decision-tree" tabindex="-1">Quick Diagnostic Decision Tree <a class="header-anchor" href="#quick-diagnostic-decision-tree" aria-label="Permalink to &quot;Quick Diagnostic Decision Tree&quot;">​</a></h2><p>Use this flowchart to quickly identify your issue:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>LynqNode Not Working?</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├─ Resources not creating at all?</span></span>
<span class="line"><span>│  ├─ Check: kubectl describe lynqnode &lt;name&gt;</span></span>
<span class="line"><span>│  │  ├─ TemplateRenderError event? → [Section 2: Template Issues]</span></span>
<span class="line"><span>│  │  ├─ ResourceConflict event? → [Section 2C: Resource Conflict]</span></span>
<span class="line"><span>│  │  ├─ DependencySkipped event? → [Section 2D: Dependencies]</span></span>
<span class="line"><span>│  │  └─ No events? → Check operator logs [Section 1]</span></span>
<span class="line"><span>│  │</span></span>
<span class="line"><span>│  └─ Check: kubectl get lynqhub &lt;name&gt;</span></span>
<span class="line"><span>│     ├─ Status empty? → [Section 3: Database Connection]</span></span>
<span class="line"><span>│     └─ desired=0? → [Section 9: Hub Not Syncing]</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├─ Resources exist but not Ready?</span></span>
<span class="line"><span>│  ├─ readyResources &lt; desiredResources? → [Section 12: ResourcesNotReady]</span></span>
<span class="line"><span>│  ├─ Pods in CrashLoopBackOff? → Check pod logs</span></span>
<span class="line"><span>│  └─ Pods pending? → Check resource quotas/node capacity</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├─ LynqNode stuck Terminating?</span></span>
<span class="line"><span>│  └─ [Section 8: Finalizer Stuck]</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>└─ Performance issues?</span></span>
<span class="line"><span>   ├─ Slow provisioning? → [Section 6: Slow Provisioning]</span></span>
<span class="line"><span>   └─ OOMKilled? → [Section 7: Memory/CPU Issues]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="general-debugging" tabindex="-1">General Debugging <a class="header-anchor" href="#general-debugging" aria-label="Permalink to &quot;General Debugging&quot;">​</a></h2><h3 id="check-operator-status" tabindex="-1">Check Operator Status <a class="header-anchor" href="#check-operator-status" aria-label="Permalink to &quot;Check Operator Status&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check if operator is running</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># View operator logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check operator events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> events</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#79B8FF;"> --sort-by=</span><span style="color:#9ECBFF;">&#39;.lastTimestamp&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="check-crd-status" tabindex="-1">Check CRD Status <a class="header-anchor" href="#check-crd-status" aria-label="Permalink to &quot;Check CRD Status&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># List all LynqNode CRs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnodes</span><span style="color:#79B8FF;"> --all-namespaces</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Describe a specific LynqNode</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">lynqnode-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Get LynqNode status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">lynqnode-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h2><h3 id="_1-webhook-tls-certificate-errors" tabindex="-1">1. Webhook TLS Certificate Errors <a class="header-anchor" href="#_1-webhook-tls-certificate-errors" aria-label="Permalink to &quot;1. Webhook TLS Certificate Errors&quot;">​</a></h3><p><strong>Error:</strong></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>open /tmp/k8s-webhook-server/serving-certs/tls.crt: no such file or directory</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Cause:</strong> Webhook TLS certificates not found. cert-manager is <strong>REQUIRED</strong> for all installations.</p><div class="danger custom-block"><p class="custom-block-title">cert-manager Required</p><p>cert-manager v1.13.0+ is <strong>REQUIRED</strong> for ALL installations including local development. Webhooks provide validation and defaulting at admission time.</p></div><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check if cert-manager is installed</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if Certificate resource exists</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> certificate</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check Certificate details</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> certificate</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if secret was created</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> secret</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> webhook-server-cert</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>Solutions:</strong></p><p><strong>A. Install cert-manager</strong> (if not installed):</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Install cert-manager</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Wait for cert-manager to be ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Available</span><span style="color:#79B8FF;"> --timeout=300s</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager-webhook</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager-cainjector</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Verify cert-manager is running</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>B. Restart operator</strong> (after cert-manager is ready):</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> restart</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Watch rollout status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> status</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>C. Check Certificate issuance</strong>:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check if Certificate is Ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> certificate</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># If not ready, check cert-manager logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> app=cert-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if Issuer exists</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> issuer</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-lynqnode-not-creating-resources" tabindex="-1">2. LynqNode Not Creating Resources <a class="header-anchor" href="#_2-lynqnode-not-creating-resources" aria-label="Permalink to &quot;2. LynqNode Not Creating Resources&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>LynqNode CR exists</li><li>Status shows <code>desiredResources &gt; 0</code></li><li>But <code>readyResources = 0</code></li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check LynqNode status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check operator logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#9ECBFF;"> node-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Common Causes:</strong></p><p><strong>A. Template Rendering Error</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Look for: &quot;Failed to render resource&quot;</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -A5</span><span style="color:#9ECBFF;"> &quot;TemplateRenderError&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>What Success vs Failure Looks Like:</strong></p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-Am0ZX" id="tab-7mFjRYs" checked><label data-title="✅ Success - Operator Logs" for="tab-7mFjRYs">✅ Success - Operator Logs</label><input type="radio" name="group-Am0ZX" id="tab-0Dz0uWH"><label data-title="❌ Failure - Template Error" for="tab-0Dz0uWH">❌ Failure - Template Error</label><input type="radio" name="group-Am0ZX" id="tab-5J-1Fed"><label data-title="❌ Failure - kubectl Events" for="tab-5J-1Fed">❌ Failure - kubectl Events</label></div><div class="blocks"><div class="language-bash active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.123Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> reconciliation</span><span style="color:#9ECBFF;">  {&quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;namespace&quot;:</span><span style="color:#9ECBFF;"> &quot;production&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.125Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Template</span><span style="color:#9ECBFF;"> variables</span><span style="color:#9ECBFF;"> resolved</span><span style="color:#9ECBFF;">  {&quot;uid&quot;:</span><span style="color:#9ECBFF;"> &quot;acme&quot;,</span><span style="color:#9ECBFF;"> &quot;host&quot;:</span><span style="color:#9ECBFF;"> &quot;acme.example.com&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.130Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> rendered</span><span style="color:#9ECBFF;"> successfully</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.135Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> rendered</span><span style="color:#9ECBFF;"> successfully</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Service&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.200Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  SSA</span><span style="color:#9ECBFF;"> apply</span><span style="color:#9ECBFF;"> successful</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.250Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Reconciliation</span><span style="color:#9ECBFF;"> completed</span><span style="color:#9ECBFF;">  {&quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;duration&quot;:</span><span style="color:#9ECBFF;"> &quot;127ms&quot;,</span><span style="color:#9ECBFF;"> &quot;ready&quot;:</span><span style="color:#9ECBFF;"> 2,</span><span style="color:#9ECBFF;"> &quot;desired&quot;:</span><span style="color:#79B8FF;"> 2</span><span style="color:#9ECBFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.123Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> reconciliation</span><span style="color:#9ECBFF;">  {&quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;namespace&quot;:</span><span style="color:#9ECBFF;"> &quot;production&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.125Z</span><span style="color:#9ECBFF;"> ERROR</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Failed</span><span style="color:#9ECBFF;"> to</span><span style="color:#9ECBFF;"> render</span><span style="color:#9ECBFF;"> resource</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;template: deployment:15:12: executing </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">deployment</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;"> at &lt;.planId&gt;: map has no entry for key </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">planId</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:45.126Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Reconciliation</span><span style="color:#9ECBFF;"> failed</span><span style="color:#9ECBFF;">  {&quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;template rendering error&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#9ECBFF;"> acme-web</span></span>
<span class="line"><span style="color:#79B8FF;">...</span></span>
<span class="line"><span style="color:#B392F0;">Events:</span></span>
<span class="line"><span style="color:#B392F0;">  Type</span><span style="color:#9ECBFF;">     Reason</span><span style="color:#9ECBFF;">               Age</span><span style="color:#9ECBFF;">   From</span><span style="color:#9ECBFF;">                    Message</span></span>
<span class="line"><span style="color:#B392F0;">  ----</span><span style="color:#79B8FF;">     ------</span><span style="color:#79B8FF;">               ----</span><span style="color:#79B8FF;">  ----</span><span style="color:#79B8FF;">                    -------</span></span>
<span class="line"><span style="color:#B392F0;">  Warning</span><span style="color:#9ECBFF;">  TemplateRenderError</span><span style="color:#9ECBFF;">  10s</span><span style="color:#9ECBFF;">   lynqnode-controller</span><span style="color:#9ECBFF;">     Failed</span><span style="color:#9ECBFF;"> to</span><span style="color:#9ECBFF;"> render</span><span style="color:#9ECBFF;"> Deployment:</span><span style="color:#9ECBFF;"> template:</span><span style="color:#9ECBFF;"> deployment:15:12:</span><span style="color:#9ECBFF;"> map</span><span style="color:#9ECBFF;"> has</span><span style="color:#9ECBFF;"> no</span><span style="color:#9ECBFF;"> entry</span><span style="color:#9ECBFF;"> for</span><span style="color:#9ECBFF;"> key</span><span style="color:#9ECBFF;"> &quot;planId&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  Warning</span><span style="color:#9ECBFF;">  ReconciliationFailed</span><span style="color:#9ECBFF;"> 10s</span><span style="color:#9ECBFF;">   lynqnode-controller</span><span style="color:#9ECBFF;">     Template</span><span style="color:#9ECBFF;"> rendering</span><span style="color:#9ECBFF;"> failed,</span><span style="color:#9ECBFF;"> skipping</span><span style="color:#9ECBFF;"> all</span><span style="color:#9ECBFF;"> resources</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div><p>Solution: Fix template syntax in LynqForm</p><p><strong>B. Missing Variable</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Look for: &quot;map has no entry for key&quot;</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> &quot;missing&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Solution: Add missing variable to <code>extraValueMappings</code></p><p><strong>C. Resource Conflict</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Look for: &quot;ResourceConflict&quot;</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> &quot;ResourceConflict&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Solution: Delete conflicting resource or use <code>conflictPolicy: Force</code></p><p><strong>D. Dependency Blocking vs Skipping (v1.1.14+)</strong></p><p>If some resources aren&#39;t being created, check if they&#39;re waiting for dependencies:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check for DependencySkipped events (actual failure)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> &quot;DependencySkipped&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check skippedResources in status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.skippedResources}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Blocked (No Event):</strong> If there&#39;s no <code>DependencySkipped</code> event, the dependency is simply still starting up. Lynq silently blocks dependent resources until dependencies become ready. This is normal behavior.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check dependency status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">dependency-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.conditions[?(@.type==&quot;Available&quot;)].status}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Skipped (DependencySkipped Event):</strong> If you see a <code>DependencySkipped</code> event, the dependency actually <strong>failed</strong> (apply error or timeout).</p><p>Solutions:</p><ul><li>For <strong>blocked</strong> (not ready): Wait for dependency to become ready, or check why it&#39;s not progressing</li><li>For <strong>skipped</strong> (failed): Fix the failed dependency, or set <code>skipOnDependencyFailure: false</code> if the resource should be created anyway</li></ul><p>See <a href="./dependencies.html#understanding-blocking-vs-failed-dependencies">Dependency Management Guide</a> for more details.</p><h3 id="_3-database-connection-failures" tabindex="-1">3. Database Connection Failures <a class="header-anchor" href="#_3-database-connection-failures" aria-label="Permalink to &quot;3. Database Connection Failures&quot;">​</a></h3><p><strong>Error:</strong></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Failed to query database: dial tcp: connect: connection refused</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>What Success vs Failure Looks Like:</strong></p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-mjPqe" id="tab--DzR2ar" checked><label data-title="✅ Success - Hub Syncing" for="tab--DzR2ar">✅ Success - Hub Syncing</label><input type="radio" name="group-mjPqe" id="tab-FrTvyvY"><label data-title="❌ Failure - Connection Refused" for="tab-FrTvyvY">❌ Failure - Connection Refused</label><input type="radio" name="group-mjPqe" id="tab-IW2xbBV"><label data-title="❌ Failure - Authentication Error" for="tab-IW2xbBV">❌ Failure - Authentication Error</label><input type="radio" name="group-mjPqe" id="tab-MKmlZFF"><label data-title="❌ Failure - Query Error" for="tab-MKmlZFF">❌ Failure - Query Error</label></div><div class="blocks"><div class="language-bash active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> &quot;hub\\|mysql\\|database&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> sync</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;,</span><span style="color:#9ECBFF;"> &quot;namespace&quot;:</span><span style="color:#9ECBFF;"> &quot;production&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.150Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Database</span><span style="color:#9ECBFF;"> connected</span><span style="color:#9ECBFF;">  {&quot;host&quot;:</span><span style="color:#9ECBFF;"> &quot;mysql.default.svc.cluster.local&quot;,</span><span style="color:#9ECBFF;"> &quot;database&quot;:</span><span style="color:#9ECBFF;"> &quot;tenants&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.200Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Query</span><span style="color:#9ECBFF;"> executed</span><span style="color:#9ECBFF;">  {&quot;rows&quot;:</span><span style="color:#9ECBFF;"> 5,</span><span style="color:#9ECBFF;"> &quot;query&quot;:</span><span style="color:#9ECBFF;"> &quot;SELECT id AS uid...&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.250Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Active</span><span style="color:#9ECBFF;"> nodes</span><span style="color:#9ECBFF;"> found</span><span style="color:#9ECBFF;">  {&quot;count&quot;:</span><span style="color:#9ECBFF;"> 5,</span><span style="color:#9ECBFF;"> &quot;templates&quot;:</span><span style="color:#79B8FF;"> 2</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.300Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  LynqNodes</span><span style="color:#9ECBFF;"> reconciled</span><span style="color:#9ECBFF;">  {&quot;created&quot;:</span><span style="color:#9ECBFF;"> 0,</span><span style="color:#9ECBFF;"> &quot;updated&quot;:</span><span style="color:#9ECBFF;"> 10,</span><span style="color:#9ECBFF;"> &quot;deleted&quot;:</span><span style="color:#79B8FF;"> 0</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.350Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Sync</span><span style="color:#9ECBFF;"> completed</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;,</span><span style="color:#9ECBFF;"> &quot;desired&quot;:</span><span style="color:#9ECBFF;"> 10,</span><span style="color:#9ECBFF;"> &quot;ready&quot;:</span><span style="color:#79B8FF;"> 10</span><span style="color:#9ECBFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> &quot;hub\\|mysql\\|error&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> sync</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;,</span><span style="color:#9ECBFF;"> &quot;namespace&quot;:</span><span style="color:#9ECBFF;"> &quot;production&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:05.100Z</span><span style="color:#9ECBFF;"> ERROR</span><span style="color:#9ECBFF;"> controller.lynqhub</span><span style="color:#9ECBFF;">  Failed</span><span style="color:#9ECBFF;"> to</span><span style="color:#9ECBFF;"> connect</span><span style="color:#9ECBFF;"> to</span><span style="color:#9ECBFF;"> database</span><span style="color:#9ECBFF;">  {&quot;host&quot;:</span><span style="color:#9ECBFF;"> &quot;mysql.wrong-namespace.svc.cluster.local&quot;,</span><span style="color:#9ECBFF;"> &quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;dial tcp 10.96.0.1:3306: connect: connection refused&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:05.101Z</span><span style="color:#9ECBFF;"> ERROR</span><span style="color:#9ECBFF;"> controller.lynqhub</span><span style="color:#9ECBFF;">  Sync</span><span style="color:#9ECBFF;"> failed</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;,</span><span style="color:#9ECBFF;"> &quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;database connection failed&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> &quot;hub\\|mysql\\|error&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> sync</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.200Z</span><span style="color:#9ECBFF;"> ERROR</span><span style="color:#9ECBFF;"> controller.lynqhub</span><span style="color:#9ECBFF;">  Database</span><span style="color:#9ECBFF;"> authentication</span><span style="color:#9ECBFF;"> failed</span><span style="color:#9ECBFF;">  {&quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;Error 1045 (28000): Access denied for user &#39;lynq&#39;@&#39;10.244.0.15&#39; (using password: YES)&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> &quot;hub\\|query\\|error&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Starting</span><span style="color:#9ECBFF;"> sync</span><span style="color:#9ECBFF;">  {&quot;hub&quot;:</span><span style="color:#9ECBFF;"> &quot;customer-hub&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.150Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqhub</span><span style="color:#9ECBFF;">  Database</span><span style="color:#9ECBFF;"> connected</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.200Z</span><span style="color:#9ECBFF;"> ERROR</span><span style="color:#9ECBFF;"> controller.lynqhub</span><span style="color:#9ECBFF;">  Query</span><span style="color:#9ECBFF;"> execution</span><span style="color:#9ECBFF;"> failed</span><span style="color:#9ECBFF;">  {&quot;error&quot;:</span><span style="color:#9ECBFF;"> &quot;Error 1054 (42S22): Unknown column &#39;tenant_id&#39; in &#39;field list&#39;&quot;,</span><span style="color:#9ECBFF;"> &quot;query&quot;:</span><span style="color:#9ECBFF;"> &quot;SELECT tenant_id AS uid...&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div><p><strong>Hub Status Comparison:</strong></p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-uYxWC" id="tab-zi0HaMx" checked><label data-title="✅ Healthy Hub Status" for="tab-zi0HaMx">✅ Healthy Hub Status</label><input type="radio" name="group-uYxWC" id="tab-7LR4M9s"><label data-title="❌ Failed Hub Status" for="tab-7LR4M9s">❌ Failed Hub Status</label></div><div class="blocks"><div class="language-yaml active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#9ECBFF;">$ kubectl get lynqhub customer-hub -o yaml</span></span>
<span class="line"><span style="color:#85E89D;">status</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  conditions</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">lastTransitionTime</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2024-01-15T10:30:00Z&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    message</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Successfully synced 5 nodes from database&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    reason</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">SyncSuccess</span></span>
<span class="line"><span style="color:#85E89D;">    status</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;True&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Ready</span></span>
<span class="line"><span style="color:#85E89D;">  desired</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#6A737D;">          # 5 rows × 2 templates</span></span>
<span class="line"><span style="color:#85E89D;">  ready</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span></span>
<span class="line"><span style="color:#85E89D;">  failed</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#85E89D;">  referencingTemplates</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#85E89D;">  lastSyncTime</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2024-01-15T10:30:00Z&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#9ECBFF;">$ kubectl get lynqhub customer-hub -o yaml</span></span>
<span class="line"><span style="color:#85E89D;">status</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  conditions</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">lastTransitionTime</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2024-01-15T10:30:05Z&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    message</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Failed to connect to database: connection refused&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    reason</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">DatabaseConnectionFailed</span></span>
<span class="line"><span style="color:#85E89D;">    status</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;False&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Ready</span></span>
<span class="line"><span style="color:#85E89D;">  desired</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#6A737D;">           # No data from DB</span></span>
<span class="line"><span style="color:#85E89D;">  ready</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#85E89D;">  failed</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#85E89D;">  referencingTemplates</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#85E89D;">  lastSyncTime</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2024-01-15T10:25:00Z&quot;</span><span style="color:#6A737D;">  # Stale - last successful sync</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></div><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check secret exists</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> secret</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">mysql-secre</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check Hub status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqhub</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Test database connection from a pod</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> run</span><span style="color:#79B8FF;"> -it</span><span style="color:#79B8FF;"> --rm</span><span style="color:#9ECBFF;"> mysql-test</span><span style="color:#79B8FF;"> --image=mysql:8</span><span style="color:#79B8FF;"> --restart=Never</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  mysql</span><span style="color:#79B8FF;"> -h</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">hos</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -u</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;">r</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -p</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">password</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -e</span><span style="color:#9ECBFF;"> &quot;SELECT 1&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Solutions:</strong></p><p>A. Verify credentials:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> secret</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">mysql-secre</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.data.password}&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> base64</span><span style="color:#79B8FF;"> -d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>B. Check network connectivity:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> exec</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  nc</span><span style="color:#79B8FF;"> -zv</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">mysql-hos</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> 3306</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>C. Verify LynqHub configuration:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  source</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    mysql</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      host</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">mysql.default.svc.cluster.local</span><span style="color:#6A737D;">  # Correct FQDN</span></span>
<span class="line"><span style="color:#85E89D;">      port</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3306</span></span>
<span class="line"><span style="color:#85E89D;">      database</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">nodes</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-lynqnode-status-not-updating" tabindex="-1">4. LynqNode Status Not Updating <a class="header-anchor" href="#_4-lynqnode-status-not-updating" aria-label="Permalink to &quot;4. LynqNode Status Not Updating&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>Resources are ready in cluster</li><li>LynqNode status shows <code>readyResources = 0</code></li></ul><p><strong>Causes:</strong></p><ul><li>Reconciliation not triggered</li><li>Readiness check failing</li></ul><p><strong>Solutions:</strong></p><p>A. Force reconciliation:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Add annotation to trigger reconciliation</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> annotate</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;"> force-sync=&quot;$(</span><span style="color:#B392F0;">date</span><span style="color:#9ECBFF;"> +%s)&quot;</span><span style="color:#79B8FF;"> --overwrite</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>B. Check readiness logic:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># For Deployments</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if replicas match</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.spec.replicas} {.status.availableReplicas}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>C. Wait longer (resources take time to become ready):</p><ul><li>Deployments: 30s - 2min</li><li>Jobs: Variable</li><li>Ingresses: 10s - 1min</li></ul><h3 id="_5-template-variables-not-substituting" tabindex="-1">5. Template Variables Not Substituting <a class="header-anchor" href="#_5-template-variables-not-substituting" aria-label="Permalink to &quot;5. Template Variables Not Substituting&quot;">​</a></h3><div><p><strong>Symptoms:</strong></p><ul><li>Template shows <code>{{ .uid }}</code> literally in resources</li><li>Variables not replaced</li></ul></div><p><strong>Cause:</strong> Templates not rendered correctly</p><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check rendered LynqNode spec</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.spec.deployments[0].nameTemplate}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Solution:</strong></p><ul><li>Ensure Hub has correct <code>valueMappings</code></li><li>Check database column names match mappings</li><li>Verify node row has non-empty values</li></ul><h3 id="_6-slow-lynqnode-provisioning" tabindex="-1">6. Slow LynqNode Provisioning <a class="header-anchor" href="#_6-slow-lynqnode-provisioning" aria-label="Permalink to &quot;6. Slow LynqNode Provisioning&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>LynqNodes taking &gt; 5 minutes to provision</li><li>High operator CPU usage</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check reconciliation times</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#B392F0;">  grep</span><span style="color:#9ECBFF;"> &quot;Reconciliation completed&quot;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> tail</span><span style="color:#79B8FF;"> -20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check resource counts</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnodes</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> json</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> jq</span><span style="color:#9ECBFF;"> &#39;.items[] | {name: .metadata.name, desired: .status.desiredResources}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Solutions:</strong></p><p>A. Disable readiness waits:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">waitForReady</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>B. Increase concurrency:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">args</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--node-concurrency=20</span><span style="color:#6A737D;">      # Increase LynqNode reconciliation concurrency</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--form-concurrency=10</span><span style="color:#6A737D;">    # Increase Template reconciliation concurrency</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--hub-concurrency=5</span><span style="color:#6A737D;">     # Increase Hub reconciliation concurrency</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>C. Optimize templates (see <a href="./performance.html">Performance Guide</a>)</p><h3 id="_7-memory-cpu-issues" tabindex="-1">7. Memory/CPU Issues <a class="header-anchor" href="#_7-memory-cpu-issues" aria-label="Permalink to &quot;7. Memory/CPU Issues&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>Operator pod OOMKilled</li><li>High CPU usage</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check resource usage</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> top</span><span style="color:#9ECBFF;"> pod</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check for memory leaks</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> --previous</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Solutions:</strong></p><p>A. Increase resource limits:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">resources</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  limits</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    cpu</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">2000m</span></span>
<span class="line"><span style="color:#85E89D;">    memory</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">2Gi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>B. Reduce concurrency:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">args</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--node-concurrency=5</span><span style="color:#6A737D;">       # Reduce LynqNode reconciliation concurrency</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--form-concurrency=3</span><span style="color:#6A737D;">     # Reduce Template reconciliation concurrency</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--hub-concurrency=1</span><span style="color:#6A737D;">     # Reduce Hub reconciliation concurrency</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>C. Increase requeue interval:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">args</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--requeue-interval=1m</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_8-finalizer-stuck" tabindex="-1">8. Finalizer Stuck <a class="header-anchor" href="#_8-finalizer-stuck" aria-label="Permalink to &quot;8. Finalizer Stuck&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>LynqNode CR stuck in <code>Terminating</code> state</li><li>Can&#39;t delete LynqNode</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check finalizers</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.metadata.finalizers}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check deletion timestamp</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.metadata.deletionTimestamp}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Solutions:</strong></p><p>A. Check operator logs for deletion errors:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#B392F0;">  grep</span><span style="color:#9ECBFF;"> &quot;Failed to delete&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>B. Force remove finalizer (last resort):</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> patch</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> &#39;{&quot;metadata&quot;:{&quot;finalizers&quot;:[]}}&#39;</span><span style="color:#79B8FF;"> --type=merge</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Warning:</strong> This may leave orphaned resources!</p><h3 id="_9-hub-not-syncing" tabindex="-1">9. Hub Not Syncing <a class="header-anchor" href="#_9-hub-not-syncing" aria-label="Permalink to &quot;9. Hub Not Syncing&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>Database has active rows</li><li>No LynqNode CRs created</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check Hub status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqhub</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check operator logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#B392F0;">  grep</span><span style="color:#9ECBFF;"> &quot;Hub&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Common Causes:</strong></p><p>A. Incorrect <code>valueMappings</code>:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Must match database columns exactly</span></span>
<span class="line"><span style="color:#85E89D;">valueMappings</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  uid</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node_id</span><span style="color:#6A737D;">          # Column must exist</span></span>
<span class="line"><span style="color:#85E89D;">  hostOrUrl</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node_url</span><span style="color:#6A737D;">   # Column must exist</span></span>
<span class="line"><span style="color:#85E89D;">  activate</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">is_active</span><span style="color:#6A737D;">     # Column must exist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>B. No active rows:</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- Check for active nodes</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#79B8FF;"> COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> nodes </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> is_active </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> TRUE;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>C. Database query error:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check logs for SQL errors</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#B392F0;">  grep</span><span style="color:#9ECBFF;"> &quot;Failed to query&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_10-multi-form-issues" tabindex="-1">10. Multi-Form Issues <a class="header-anchor" href="#_10-multi-form-issues" aria-label="Permalink to &quot;10. Multi-Form Issues&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>Expected 2× nodes, only seeing 1×</li><li>Wrong desired count</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check Hub status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqhub</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Should show:</span></span>
<span class="line"><span style="color:#6A737D;"># referencingTemplates: 2</span></span>
<span class="line"><span style="color:#6A737D;"># desired: &lt;forms&gt; × &lt;rows&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check forms reference same hub</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqforms</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.items[*].spec.hubId}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Solution:</strong> Ensure all forms correctly reference the hub:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  hubId</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">my-hub</span><span style="color:#6A737D;">  # Must match exactly</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_11-orphaned-resources-not-cleaning-up" tabindex="-1">11. Orphaned Resources Not Cleaning Up <a class="header-anchor" href="#_11-orphaned-resources-not-cleaning-up" aria-label="Permalink to &quot;11. Orphaned Resources Not Cleaning Up&quot;">​</a></h3><p><strong>Symptoms:</strong></p><ul><li>Resources removed from LynqForm still exist in cluster</li><li><code>appliedResources</code> status not updating</li><li>Unexpected resources with node labels/ownerReferences</li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check current applied resources</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.appliedResources}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Should show: [&quot;Deployment/default/app@deploy-1&quot;, &quot;Service/default/app@svc-1&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># List resources with node labels</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/node=</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">lynqnode-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find orphaned resources (retained with DeletionPolicy=Retain)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -A</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/orphaned=</span><span style="color:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find orphaned resources from this node</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -A</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/orphaned=</span><span style="color:#79B8FF;">true</span><span style="color:#9ECBFF;">,lynq.sh/node=</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">lynqnode-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check resource DeletionPolicy</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqform</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -A2</span><span style="color:#9ECBFF;"> deletionPolicy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>Common Causes:</strong></p><ol><li><strong>DeletionPolicy=Retain</strong>: Resource was intentionally retained and marked with orphan labels</li><li><strong>Status not syncing</strong>: AppliedResources field not updated</li><li><strong>Manual resource modification</strong>: OwnerReference or labels removed manually</li><li><strong>Operator version</strong>: Upgrade from version without orphan cleanup</li></ol><div class="tip custom-block"><p class="custom-block-title">Expected Behavior</p><p>Resources with <code>DeletionPolicy=Retain</code> are <strong>intentionally kept</strong> in the cluster and marked with orphan labels for easy identification. This is not a bug - it&#39;s the designed behavior!</p></div><p><strong>Solutions:</strong></p><p><strong>A. Verify DeletionPolicy:</strong></p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check template definition</span></span>
<span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">old-deployment</span></span>
<span class="line"><span style="color:#85E89D;">    deletionPolicy</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Delete</span><span style="color:#6A737D;">  # Should be Delete, not Retain</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>B. Force reconciliation:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Trigger reconciliation by updating an annotation</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> annotate</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;"> force-sync=&quot;$(</span><span style="color:#B392F0;">date</span><span style="color:#9ECBFF;"> +%s)&quot;</span><span style="color:#79B8FF;"> --overwrite</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Watch logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>C. Manual cleanup (if needed):</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Delete orphaned resource manually</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">orphaned-resourc</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Or remove owner reference if you want to keep it</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> patch</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> --type=json</span><span style="color:#79B8FF;"> -p=</span><span style="color:#9ECBFF;">&#39;[{&quot;op&quot;: &quot;remove&quot;, &quot;path&quot;: &quot;/metadata/ownerReferences&quot;}]&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>D. Check status update:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Verify appliedResources is being updated</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.appliedResources}&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> jq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Should reflect current template resources only</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Prevention:</strong></p><ol><li>Use <code>deletionPolicy: Delete</code> for resources that should be cleaned up</li><li>Monitor <code>appliedResources</code> status field regularly</li><li>Test template changes in non-production first</li><li>Review orphan cleanup behavior in <a href="./policies.html#orphan-resource-cleanup">Policies Guide</a></li></ol><h3 id="_12-lynqnode-showing-degraded-with-resourcesnotready" tabindex="-1">12. LynqNode Showing Degraded with ResourcesNotReady <a class="header-anchor" href="#_12-lynqnode-showing-degraded-with-resourcesnotready" aria-label="Permalink to &quot;12. LynqNode Showing Degraded with ResourcesNotReady&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">New in v1.1.4</p><p>The <code>ResourcesNotReady</code> degraded condition provides granular visibility into resources that haven&#39;t reached ready state yet.</p></div><p><strong>Symptoms:</strong></p><ul><li>LynqNode condition <code>Degraded=True</code> with reason <code>ResourcesNotReady</code></li><li>Not all resources showing as ready even though they exist</li><li><code>readyResources &lt; desiredResources</code> in LynqNode status</li><li>Ready condition shows <code>status=False</code> with reason <code>NotAllResourcesReady</code></li></ul><p><strong>Diagnosis:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check LynqNode status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status}&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> jq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Should show:</span></span>
<span class="line"><span style="color:#6A737D;"># &quot;conditions&quot;: [</span></span>
<span class="line"><span style="color:#6A737D;">#   {&quot;type&quot;: &quot;Ready&quot;, &quot;status&quot;: &quot;False&quot;, &quot;reason&quot;: &quot;NotAllResourcesReady&quot;},</span></span>
<span class="line"><span style="color:#6A737D;">#   {&quot;type&quot;: &quot;Degraded&quot;, &quot;status&quot;: &quot;True&quot;, &quot;reason&quot;: &quot;ResourcesNotReady&quot;}</span></span>
<span class="line"><span style="color:#6A737D;"># ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check resource readiness</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.readyResources} / {.status.desiredResources}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Identify which resources are not ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check recent events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> events</span><span style="color:#79B8FF;"> --field-selector</span><span style="color:#9ECBFF;"> involvedObject.name=</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">lynqnode-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> --sort-by=</span><span style="color:#9ECBFF;">&#39;.lastTimestamp&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>Common Causes:</strong></p><ol><li><strong>Resources still starting up</strong>: Normal during initial provisioning</li><li><strong>Resource readiness checks failing</strong>: Container failing health checks</li><li><strong>Dependency not satisfied</strong>: Waiting for dependent resources</li><li><strong>Timeout exceeded</strong>: Resource taking longer than <code>timeoutSeconds</code></li><li><strong>Image pull errors</strong>: Container images not available</li><li><strong>Insufficient resources</strong>: Not enough CPU/memory in cluster</li></ol><p><strong>Solutions:</strong></p><p><strong>A. Check resource status:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># For Deployments</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status}&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> jq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if replicas match</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.spec.replicas} desired, {.status.availableReplicas} available&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># For StatefulSets</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> statefulset</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.readyReplicas}/{.spec.replicas} ready&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># For Jobs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> job</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.succeeded}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># For Services (should be immediate)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> service</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check pod status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> app=</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> pod</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">pod-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>B. Check resource logs:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Deployment pods</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#9ECBFF;"> deployment/</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> --tail=50</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Job logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#9ECBFF;"> job/</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check for errors</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#9ECBFF;"> deployment/</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> --previous</span><span style="color:#6A737D;">  # If pod crashed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>C. Check readiness probes:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># See if readiness probes are configured correctly</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.spec.template.spec.containers[*].readinessProbe}&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> jq</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>D. Adjust timeouts if needed:</strong></p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># In LynqForm</span></span>
<span class="line"><span style="color:#85E89D;">deployments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">id</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">    timeoutSeconds</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">600</span><span style="color:#6A737D;">  # Increase from default 300s</span></span>
<span class="line"><span style="color:#85E89D;">    waitForReady</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#6A737D;">   # Ensure readiness checks are enabled</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      template</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">        spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">          containers</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">app</span></span>
<span class="line"><span style="color:#85E89D;">            readinessProbe</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">              httpGet</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">                path</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">/health</span></span>
<span class="line"><span style="color:#85E89D;">                port</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">8080</span></span>
<span class="line"><span style="color:#85E89D;">              initialDelaySeconds</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#6A737D;">  # Allow time to start</span></span>
<span class="line"><span style="color:#85E89D;">              periodSeconds</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">5</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>E. Monitor reconciliation:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Watch LynqNode status updates (30-second interval in v1.1.4)</span></span>
<span class="line"><span style="color:#B392F0;">watch</span><span style="color:#79B8FF;"> -n</span><span style="color:#79B8FF;"> 5</span><span style="color:#9ECBFF;"> &#39;kubectl get lynqnode &lt;name&gt; -o jsonpath=&quot;{.status.readyResources}/{.status.desiredResources} ready&quot;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Watch pod status</span></span>
<span class="line"><span style="color:#B392F0;">watch</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> lynq.sh/node=</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Expected Behavior:</strong></p><div class="tip custom-block"><p class="custom-block-title">v1.1.4+ Fast Status Updates</p><ul><li><strong>Status updates every 30 seconds</strong> (down from 5 minutes in earlier versions)</li><li><strong>Event-driven</strong>: Immediate reconciliation when child resources change</li><li>Resources typically become ready within 1-2 minutes (depending on resource type)</li><li>Degraded condition clears automatically when all resources reach ready state</li></ul></div><p><strong>When to Investigate Further:</strong></p><ul><li>Resources stuck &quot;not ready&quot; for &gt; 5 minutes</li><li><code>readyResources</code> count not increasing over time</li><li>Events show repeated failures or errors</li><li>Logs indicate application-level issues</li></ul><p><strong>Prevention:</strong></p><ol><li>Set realistic <code>timeoutSeconds</code> values for resource types (Deployments: 300s, Jobs: 600s)</li><li>Ensure resource specifications have correct readiness probes</li><li>Test templates in non-production environments first</li><li>Monitor <code>lynqnode_resources_ready</code> and <code>lynqnode_degraded_status</code> metrics</li><li>Use <code>kubectl wait</code> for pre-flight checks:<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Ready</span><span style="color:#9ECBFF;"> lynqnode/</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> --timeout=300s</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h2 id="debugging-workflows" tabindex="-1">Debugging Workflows <a class="header-anchor" href="#debugging-workflows" aria-label="Permalink to &quot;Debugging Workflows&quot;">​</a></h2><h3 id="debug-template-rendering" tabindex="-1">Debug Template Rendering <a class="header-anchor" href="#debug-template-rendering" aria-label="Permalink to &quot;Debug Template Rendering&quot;">​</a></h3><ol><li>Create test LynqNode manually:</li></ol><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">apiVersion</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">operator.lynq.sh/v1</span></span>
<span class="line"><span style="color:#85E89D;">kind</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">LynqNode</span></span>
<span class="line"><span style="color:#85E89D;">metadata</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">test-node</span></span>
<span class="line"><span style="color:#85E89D;">  annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    lynq.sh/uid</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;test-123&quot;</span></span>
<span class="line"><span style="color:#85E89D;">    lynq.sh/host</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;test.example.com&quot;</span></span>
<span class="line"><span style="color:#85E89D;">spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#6A737D;">  # ... copy from template</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>Check rendered resources:</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>Check operator logs:</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="debug-database-connection" tabindex="-1">Debug Database Connection <a class="header-anchor" href="#debug-database-connection" aria-label="Permalink to &quot;Debug Database Connection&quot;">​</a></h3><ol><li>Create test pod:</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> run</span><span style="color:#79B8FF;"> -it</span><span style="color:#79B8FF;"> --rm</span><span style="color:#9ECBFF;"> mysql-test</span><span style="color:#79B8FF;"> --image=mysql:8</span><span style="color:#79B8FF;"> --restart=Never</span><span style="color:#79B8FF;"> --</span><span style="color:#9ECBFF;"> bash</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>Inside pod:</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">mysql</span><span style="color:#79B8FF;"> -h</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">hos</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -u</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;">r</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -p</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">password</span><span style="color:#F97583;">&gt;</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">databas</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> -e</span><span style="color:#9ECBFF;"> &quot;SELECT * FROM nodes LIMIT 5&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="debug-reconciliation" tabindex="-1">Debug Reconciliation <a class="header-anchor" href="#debug-reconciliation" aria-label="Permalink to &quot;Debug Reconciliation&quot;">​</a></h3><ol><li>Enable debug logging:</li></ol><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># config/manager/manager.yaml</span></span>
<span class="line"><span style="color:#85E89D;">args</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#9ECBFF;">--zap-log-level=debug</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>Watch reconciliation:</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span><span style="color:#F97583;"> |</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#B392F0;">  grep</span><span style="color:#9ECBFF;"> &quot;Reconciling&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="reconciliation-log-analysis-success-vs-failure-patterns" tabindex="-1">Reconciliation Log Analysis: Success vs Failure Patterns <a class="header-anchor" href="#reconciliation-log-analysis-success-vs-failure-patterns" aria-label="Permalink to &quot;Reconciliation Log Analysis: Success vs Failure Patterns&quot;">​</a></h3><p>Understanding reconciliation logs helps quickly identify issues:</p><p><strong>Complete Healthy Reconciliation Cycle:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> --tail=50</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 1: Start</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.000Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Reconciliation</span><span style="color:#9ECBFF;"> started</span><span style="color:#9ECBFF;">  {&quot;node&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;namespace&quot;:</span><span style="color:#9ECBFF;"> &quot;production&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 2: Finalizer Check</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.010Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Finalizer</span><span style="color:#9ECBFF;"> present</span><span style="color:#9ECBFF;">  {&quot;node&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 3: Variable Resolution</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.020Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Variables</span><span style="color:#9ECBFF;"> resolved</span><span style="color:#9ECBFF;">  {&quot;uid&quot;:</span><span style="color:#9ECBFF;"> &quot;acme&quot;,</span><span style="color:#9ECBFF;"> &quot;host&quot;:</span><span style="color:#9ECBFF;"> &quot;acme.example.com&quot;,</span><span style="color:#9ECBFF;"> &quot;planId&quot;:</span><span style="color:#9ECBFF;"> &quot;enterprise&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 4: Dependency Graph</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.030Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Dependency</span><span style="color:#9ECBFF;"> graph</span><span style="color:#9ECBFF;"> built</span><span style="color:#9ECBFF;">  {&quot;nodes&quot;:</span><span style="color:#9ECBFF;"> 4,</span><span style="color:#9ECBFF;"> &quot;edges&quot;:</span><span style="color:#9ECBFF;"> 3,</span><span style="color:#9ECBFF;"> &quot;cycles&quot;:</span><span style="color:#79B8FF;"> false</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.031Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Apply</span><span style="color:#9ECBFF;"> order</span><span style="color:#9ECBFF;"> determined</span><span style="color:#9ECBFF;">  {&quot;order&quot;:</span><span style="color:#E1E4E8;"> [</span><span style="color:#9ECBFF;">&quot;secret&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;configmap&quot;,</span><span style="color:#9ECBFF;"> &quot;deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;service&quot;]}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 5: Orphan Cleanup</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.040Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  Checking</span><span style="color:#9ECBFF;"> for</span><span style="color:#9ECBFF;"> orphaned</span><span style="color:#9ECBFF;"> resources</span><span style="color:#9ECBFF;">  {&quot;previous&quot;:</span><span style="color:#9ECBFF;"> 4,</span><span style="color:#9ECBFF;"> &quot;current&quot;:</span><span style="color:#79B8FF;"> 4</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.041Z</span><span style="color:#9ECBFF;"> DEBUG</span><span style="color:#9ECBFF;"> controller.lynqnode</span><span style="color:#9ECBFF;">  No</span><span style="color:#9ECBFF;"> orphaned</span><span style="color:#9ECBFF;"> resources</span><span style="color:#9ECBFF;"> found</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 6: Resource Apply (each resource)</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Applying</span><span style="color:#9ECBFF;"> resource</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Secret&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-creds&quot;,</span><span style="color:#9ECBFF;"> &quot;id&quot;:</span><span style="color:#9ECBFF;"> &quot;creds&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.150Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> applied</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Secret&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-creds&quot;,</span><span style="color:#9ECBFF;"> &quot;result&quot;:</span><span style="color:#9ECBFF;"> &quot;configured&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.200Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Applying</span><span style="color:#9ECBFF;"> resource</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;ConfigMap&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-config&quot;,</span><span style="color:#9ECBFF;"> &quot;id&quot;:</span><span style="color:#9ECBFF;"> &quot;config&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.250Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> applied</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;ConfigMap&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-config&quot;,</span><span style="color:#9ECBFF;"> &quot;result&quot;:</span><span style="color:#9ECBFF;"> &quot;unchanged&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.300Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Applying</span><span style="color:#9ECBFF;"> resource</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;,</span><span style="color:#9ECBFF;"> &quot;id&quot;:</span><span style="color:#9ECBFF;"> &quot;app&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:00.400Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Waiting</span><span style="color:#9ECBFF;"> for</span><span style="color:#9ECBFF;"> readiness</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;,</span><span style="color:#9ECBFF;"> &quot;timeout&quot;:</span><span style="color:#9ECBFF;"> &quot;300s&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:15.000Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> ready</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Deployment&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;,</span><span style="color:#9ECBFF;"> &quot;waited&quot;:</span><span style="color:#9ECBFF;"> &quot;14.6s&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:15.100Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Applying</span><span style="color:#9ECBFF;"> resource</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Service&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;,</span><span style="color:#9ECBFF;"> &quot;id&quot;:</span><span style="color:#9ECBFF;"> &quot;svc&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:15.150Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Resource</span><span style="color:#9ECBFF;"> applied</span><span style="color:#9ECBFF;">  {&quot;kind&quot;:</span><span style="color:#9ECBFF;"> &quot;Service&quot;,</span><span style="color:#9ECBFF;"> &quot;name&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-api&quot;,</span><span style="color:#9ECBFF;"> &quot;result&quot;:</span><span style="color:#9ECBFF;"> &quot;configured&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 7: Status Update</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:15.200Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Status</span><span style="color:#9ECBFF;"> updated</span><span style="color:#9ECBFF;">  {&quot;ready&quot;:</span><span style="color:#9ECBFF;"> 4,</span><span style="color:#9ECBFF;"> &quot;desired&quot;:</span><span style="color:#9ECBFF;"> 4,</span><span style="color:#9ECBFF;"> &quot;failed&quot;:</span><span style="color:#9ECBFF;"> 0,</span><span style="color:#9ECBFF;"> &quot;skipped&quot;:</span><span style="color:#79B8FF;"> 0</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ✅ Phase 8: Complete</span></span>
<span class="line"><span style="color:#B392F0;">2024-01-15T10:30:15.250Z</span><span style="color:#9ECBFF;"> INFO</span><span style="color:#9ECBFF;">  controller.lynqnode</span><span style="color:#9ECBFF;">  Reconciliation</span><span style="color:#9ECBFF;"> completed</span><span style="color:#9ECBFF;">  {&quot;node&quot;:</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;,</span><span style="color:#9ECBFF;"> &quot;duration&quot;:</span><span style="color:#9ECBFF;"> &quot;15.25s&quot;,</span><span style="color:#9ECBFF;"> &quot;result&quot;:</span><span style="color:#9ECBFF;"> &quot;success&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>Common Failure Patterns:</strong></p>`,207)),s("table",c,[n[11]||(n[11]=s("thead",null,[s("tr",null,[s("th",null,"Log Pattern"),s("th",null,"Meaning"),s("th",null,"Solution")])],-1)),s("tbody",null,[n[5]||(n[5]=s("tr",null,[s("td",null,[s("code",null,'map has no entry for key "X"')]),s("td",null,"Template uses undefined variable"),s("td",null,[a("Add "),s("code",null,"X"),a(" to "),s("code",null,"extraValueMappings")])],-1)),n[6]||(n[6]=s("tr",null,[s("td",null,[s("code",null,"dependency cycle detected: A -> B -> A")]),s("td",null,"Circular dependency"),s("td",null,"Refactor to break cycle")],-1)),n[7]||(n[7]=s("tr",null,[s("td",null,[s("code",null,"conflict: field manager lynq conflicts")]),s("td",null,"Another controller owns resource"),s("td",null,[a("Use "),s("code",null,"conflictPolicy: Force"),a(" or delete resource")])],-1)),n[8]||(n[8]=s("tr",null,[s("td",null,[s("code",null,"timed out waiting for resource")]),s("td",null,"Resource didn't become ready"),s("td",null,[a("Check pod logs, increase "),s("code",null,"timeoutSeconds")])],-1)),n[9]||(n[9]=s("tr",null,[s("td",null,[s("code",null,"DependencySkipped")]),s("td",null,"Dependency failed, resource skipped"),s("td",null,"Fix the dependency first")],-1)),n[10]||(n[10]=s("tr",null,[s("td",null,[s("code",null,"resource already exists with different owner")]),s("td",null,"OwnerReference conflict"),s("td",null,[a("Delete existing resource or use "),s("code",null,"Force")])],-1)),s("tr",null,[n[3]||(n[3]=s("td",null,[s("code",null,"failed to parse template")],-1)),n[4]||(n[4]=s("td",null,"Go template syntax error",-1)),s("td",null,[n[0]||(n[0]=a("Check for unmatched ",-1)),s("code",null,r(),1),n[1]||(n[1]=a(", missing ",-1)),n[2]||(n[2]=s("code",null,"end",-1))])])])]),n[13]||(n[13]=l(`<p><strong>Quick Log Grep Commands:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Find all errors in last 100 lines</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> --tail=100</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find specific node reconciliation</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> &quot;acme-web&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find all failed reconciliations</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> &quot;Reconciliation failed&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find template errors</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -E</span><span style="color:#9ECBFF;"> &quot;(map has no entry|template.*error|failed to render)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find dependency issues</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -E</span><span style="color:#9ECBFF;"> &quot;(DependencySkipped|cycle detected|blocked)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Find SSA conflicts</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> conflict</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Watch live with timestamps</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span><span style="color:#79B8FF;"> --timestamps</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="getting-help" tabindex="-1">Getting Help <a class="header-anchor" href="#getting-help" aria-label="Permalink to &quot;Getting Help&quot;">​</a></h2><ol><li>Check operator logs</li><li>Check LynqNode events: <code>kubectl describe lynqnode &lt;name&gt;</code></li><li>Check Hub status: <code>kubectl get lynqhub &lt;name&gt; -o yaml</code></li><li>Review <a href="./performance.html">Performance Guide</a></li><li>Open issue: <a href="https://github.com/k8s-lynq/lynq/issues" target="_blank" rel="noreferrer">https://github.com/k8s-lynq/lynq/issues</a></li></ol><p>Include in bug reports:</p><ul><li>Operator version</li><li>Kubernetes version</li><li>Operator logs</li><li>LynqNode/Hub/Template YAML</li><li>Steps to reproduce</li></ul>`,6))])}const B=e(t,[["render",i]]);export{m as __pageData,B as default};
