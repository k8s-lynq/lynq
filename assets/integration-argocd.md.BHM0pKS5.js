import{_ as c,C as d,c as u,o as l,a3 as o,b as r,j as s,w as n,a,G as p,ag as i}from"./chunks/framework.ZsQ6jjYb.js";const C=JSON.parse('{"title":"Argo CD Integration Guide","description":"","frontmatter":{},"headers":[],"relativePath":"integration-argocd.md","filePath":"integration-argocd.md","lastUpdated":1767596577000}'),y={name:"integration-argocd.md"};function b(E,e,m,F,h,A){const t=d("Mermaid");return l(),u("div",null,[e[3]||(e[3]=o('<h1 id="argo-cd-integration-guide" tabindex="-1">Argo CD Integration Guide <a class="header-anchor" href="#argo-cd-integration-guide" aria-label="Permalink to &quot;Argo CD Integration Guide&quot;">​</a></h1><p>Deliver GitOps-driven node environments by mapping each <strong>LynqNode</strong> to an <strong>Argo CD Application</strong>.</p><nav class="table-of-contents"><ul><li><a href="#overview">Overview</a><ul><li><a href="#core-benefits">Core Benefits</a></li></ul></li><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#baseline-template-1-lynqnode-➝-1-application">Baseline Template (1 LynqNode ➝ 1 Application)</a><ul><li><a href="#flow">Flow</a></li></ul></li><li><a href="#advanced-sync-patterns">Advanced Sync Patterns</a></li><li><a href="#additional-use-cases">Additional Use Cases</a><ul><li><a href="#_1-appset-fan-out-per-node-plan">1. AppSet Fan-Out per Node Plan</a></li><li><a href="#_2-multi-cluster-nodes-with-cluster-secrets">2. Multi-Cluster Nodes with Cluster Secrets</a></li><li><a href="#_3-canary-and-blue-green-releases">3. Canary and Blue/Green Releases</a></li></ul></li><li><a href="#verification-commands">Verification Commands</a></li><li><a href="#operational-tips">Operational Tips</a></li><li><a href="#what-to-read-next">What to Read Next</a></li></ul></nav><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Lynq can render Argo CD <code>Application</code> manifests for every active node row. Each LynqNode becomes the canonical source of truth for a corresponding Argo CD Application, enabling GitOps workflows, progressive delivery, and automated cleanup.</p>',5)),(l(),r(i,null,{default:n(()=>[p(t,{id:"mermaid-15",class:"mermaid my-class",graph:"flowchart%20LR%0A%20%20%20%20Registry%5B%22LynqHub%3Cbr%2F%3EDB%20rows%22%5D%0A%20%20%20%20Template%5B%22LynqForm%3Cbr%2F%3EArgo%20CD%20manifest%22%5D%0A%20%20%20%20Node%5B%22LynqNode%20CR%22%5D%0A%20%20%20%20ArgoApp%5B%22Argo%20CD%20Application%22%5D%0A%20%20%20%20ArgoCD%5B%22Argo%20CD%20Controller%22%5D%0A%20%20%20%20Targets%5B%22Target%20Cluster%20%2F%20Namespace%22%5D%0A%0A%20%20%20%20Hub%20--%3E%20Template%20--%3E%20Node%20--%3E%20ArgoApp%20--%3E%20ArgoCD%20--%3E%20Targets%0A%0A%20%20%20%20classDef%20control%20fill%3A%23e3f2fd%2Cstroke%3A%2364b5f6%2Cstroke-width%3A2px%3B%0A%20%20%20%20classDef%20argocd%20fill%3A%23fff3e0%2Cstroke%3A%23ffb74d%2Cstroke-width%3A2px%3B%0A%20%20%20%20class%20Hub%2CTemplate%2CNode%20control%3B%0A%20%20%20%20class%20ArgoApp%2CArgoCD%20argocd%3B%0A"})]),fallback:n(()=>[...e[0]||(e[0]=[a(" Loading... ",-1)])]),_:1})),e[4]||(e[4]=o('<h3 id="core-benefits" tabindex="-1">Core Benefits <a class="header-anchor" href="#core-benefits" aria-label="Permalink to &quot;Core Benefits&quot;">​</a></h3><ul><li><strong>1:1 Mapping</strong> – Every LynqNode owns exactly one Argo CD Application (<code>LynqNode</code> ↔️ <code>Application</code>).</li><li><strong>Automatic Sync</strong> – Application source paths follow node metadata (UID, plan, region).</li><li><strong>Declarative Cleanup</strong> – When a LynqNode is deleted (or deactivated), the Argo CD Application and downstream workloads are removed.</li><li><strong>GitOps Alignment</strong> – Teams keep delivery pipelines in Git, while Lynq handles orchestration and lifecycle.</li></ul><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li>Argo CD installed (v2.8+ recommended) and accessible from the node namespace.</li><li>ServiceAccount and RBAC granting Lynq permission to create Argo CD <code>Application</code> objects in the Argo CD namespace (often <code>argocd</code>).</li><li>Lynq chart deployed with namespace permissions covering the Argo CD API group.</li><li>Git repository that hosts node application configuration.</li></ul><h2 id="baseline-template-1-lynqnode-➝-1-application" tabindex="-1">Baseline Template (1 LynqNode ➝ 1 Application) <a class="header-anchor" href="#baseline-template-1-lynqnode-➝-1-application" aria-label="Permalink to &quot;Baseline Template (1 LynqNode ➝ 1 Application)&quot;">​</a></h2><p>The following template renders an Argo CD Application per LynqNode. Each <code>Application</code> points to a unique Git path derived from node metadata.</p>',6)),e[5]||(e[5]=s("div",null,[s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"apiVersion"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"operator.lynq.sh/v1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"kind"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"LynqForm")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"metadata"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"argocd-app-template")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"spec"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  hubId"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"saas-registry")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  manifests"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    - "),s("span",{style:{color:"#85E89D"}},"id"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"argocd-app")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ printf '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"%s-app"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' (.uid | trunc63) }}"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      spec"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        apiVersion"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"argoproj.io/v1alpha1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        kind"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"Application")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        metadata"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          namespace"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"argocd")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          labels"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            node.lynq.sh/uid"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            node.lynq.sh/region"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .region | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"global"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        spec"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          project"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"nodes")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          source"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            repoURL"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"https://github.com/your-org/node-configs.git")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            targetRevision"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"main")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            path"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"nodes/{{ .uid }}"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          destination"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            server"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"https://kubernetes.default.svc")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            namespace"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-workspace"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          syncPolicy"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            automated"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"              prune"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#79B8FF"}},"true")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"              selfHeal"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#79B8FF"}},"true")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            syncOptions"),s("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"              - "),s("span",{style:{color:"#9ECBFF"}},"CreateNamespace=true")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"              - "),s("span",{style:{color:"#9ECBFF"}},"ApplyOutOfSyncOnly=true")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br"),s("span",{class:"line-number"},"16"),s("br"),s("span",{class:"line-number"},"17"),s("br"),s("span",{class:"line-number"},"18"),s("br"),s("span",{class:"line-number"},"19"),s("br"),s("span",{class:"line-number"},"20"),s("br"),s("span",{class:"line-number"},"21"),s("br"),s("span",{class:"line-number"},"22"),s("br"),s("span",{class:"line-number"},"23"),s("br"),s("span",{class:"line-number"},"24"),s("br"),s("span",{class:"line-number"},"25"),s("br"),s("span",{class:"line-number"},"26"),s("br"),s("span",{class:"line-number"},"27"),s("br"),s("span",{class:"line-number"},"28"),s("br"),s("span",{class:"line-number"},"29"),s("br"),s("span",{class:"line-number"},"30"),s("br"),s("span",{class:"line-number"},"31"),s("br"),s("span",{class:"line-number"},"32"),s("br"),s("span",{class:"line-number"},"33"),s("br"),s("span",{class:"line-number"},"34"),s("br")])])],-1)),e[6]||(e[6]=s("h3",{id:"flow",tabindex:"-1"},[a("Flow "),s("a",{class:"header-anchor",href:"#flow","aria-label":'Permalink to "Flow"'},"​")],-1)),(l(),r(i,null,{default:n(()=>[p(t,{id:"mermaid-78",class:"mermaid my-class",graph:"sequenceDiagram%0A%20%20%20%20participant%20DB%20as%20MySQL%20(Node%20Data)%0A%20%20%20%20participant%20Registry%20as%20LynqHub%20Controller%0A%20%20%20%20participant%20Node%20as%20LynqNode%20CR%0A%20%20%20%20participant%20Operator%20as%20LynqNode%20Controller%0A%20%20%20%20participant%20Argo%20as%20Argo%20CD%20Controller%0A%0A%20%20%20%20Hub-%3E%3EDB%3A%20SELECT%20active%20nodes%0A%20%20%20%20DB--%3E%3EHub%3A%20Node%20rows%0A%20%20%20%20Hub-%3E%3ENode%3A%20Create%2FUpdate%20LynqNode%20CR%0A%20%20%20%20Operator-%3E%3ENode%3A%20Render%20Argo%20CD%20manifest%0A%20%20%20%20Operator-%3E%3EArgo%3A%20Apply%20Application%20(SSA)%0A%20%20%20%20Argo-%3E%3EArgo%3A%20Sync%20Git%20repo%0A%20%20%20%20Argo-%3E%3ECluster%3A%20Deploy%20node%20workloads%0A"})]),fallback:n(()=>[...e[1]||(e[1]=[a(" Loading... ",-1)])]),_:1})),e[7]||(e[7]=o('<h2 id="advanced-sync-patterns" tabindex="-1">Advanced Sync Patterns <a class="header-anchor" href="#advanced-sync-patterns" aria-label="Permalink to &quot;Advanced Sync Patterns&quot;">​</a></h2><div><table tabindex="0"><thead><tr><th>Pattern</th><th>Description</th><th>LynqForm Template Hints</th></tr></thead><tbody><tr><td><strong>Environment Branching</strong></td><td>Target different Git branches per region or plan (<code>targetRevision: &quot;{{ ternary \\&quot;main\\&quot; \\&quot;staging\\&quot; (eq .planId \\&quot;enterprise\\&quot;) }}&quot;</code>).</td><td>Use extra value mappings for <code>planId</code>, <code>region</code>.</td></tr><tr><td><strong>Dynamic Paths</strong></td><td>Compose repo paths from UID segments (<code>path: &quot;nodes/{{ .region }}/{{ .uid }}&quot;</code>).</td><td>Use Sprig <code>splitList</code>, <code>join</code>, <code>default</code>.</td></tr><tr><td><strong>App-of-Apps</strong></td><td>Point each node to an <code>Application</code> that references node-specific sub-apps.</td><td>Render Application with <code>path: nodes/{{ .uid }}/apps</code>.</td></tr><tr><td><strong>Multi-Cluster Delivery</strong></td><td>Route nodes to dedicated clusters using Argo CD credentials (<code>destination.server</code>).</td><td>Map datasource columns to <code>clusterServer</code>, <code>clusterName</code>.</td></tr><tr><td><strong>Progressive Rollouts</strong></td><td>Annotate Applications for Argo Rollouts or Progressive Sync plugins.</td><td>Add <code>metadata.annotations</code> via templates.</td></tr></tbody></table></div><h2 id="additional-use-cases" tabindex="-1">Additional Use Cases <a class="header-anchor" href="#additional-use-cases" aria-label="Permalink to &quot;Additional Use Cases&quot;">​</a></h2><h3 id="_1-appset-fan-out-per-node-plan" tabindex="-1">1. AppSet Fan-Out per Node Plan <a class="header-anchor" href="#_1-appset-fan-out-per-node-plan" aria-label="Permalink to &quot;1. AppSet Fan-Out per Node Plan&quot;">​</a></h3><ul><li>Combine Lynq with Argo CD ApplicationSet.</li><li>Lynq renders a control-plane Application that references an ApplicationSet generator.</li><li>Generator reads node metadata (via ConfigMap/Secret) to produce feature-specific Applications per plan tier.</li></ul><h3 id="_2-multi-cluster-nodes-with-cluster-secrets" tabindex="-1">2. Multi-Cluster Nodes with Cluster Secrets <a class="header-anchor" href="#_2-multi-cluster-nodes-with-cluster-secrets" aria-label="Permalink to &quot;2. Multi-Cluster Nodes with Cluster Secrets&quot;">​</a></h3><ul><li>Add <code>extraValueMappings</code> for cluster credentials.</li><li>LynqForm template creates: <ol><li>An Argo CD <code>ClusterSecret</code> (with kubeconfig) in the Argo CD namespace.</li><li>An <code>Application</code> targeting that cluster secret.</li></ol></li><li>Enables dedicated clusters per enterprise node.</li></ul><h3 id="_3-canary-and-blue-green-releases" tabindex="-1">3. Canary and Blue/Green Releases <a class="header-anchor" href="#_3-canary-and-blue-green-releases" aria-label="Permalink to &quot;3. Canary and Blue/Green Releases&quot;">​</a></h3><ul><li>Render two Applications per node (<code>node-app-canary</code>, <code>node-app-stable</code>) with different <code>targetRevision</code>.</li><li>Use <code>creationPolicy: Once</code> on the stable Application and <code>WhenNeeded</code> on the canary for rapid rollback.</li><li>Combine with Argo Rollouts by templating <code>analysis</code> and promotion hooks.</li></ul>',9)),(l(),r(i,null,{default:n(()=>[p(t,{id:"mermaid-231",class:"mermaid my-class",graph:"flowchart%20TD%0A%20%20%20%20NodeA%5B%22LynqNode%20(Enterprise)%22%5D%0A%20%20%20%20Canary%5B%22Application%3Cbr%2F%3EtargetRevision%3Dcanary%22%5D%0A%20%20%20%20Stable%5B%22Application%3Cbr%2F%3EtargetRevision%3Dstable%22%5D%0A%20%20%20%20Rollouts%5B%22Argo%20Rollouts%20%2F%20Analysis%22%5D%0A%20%20%20%20Namespace%5B%22LynqNode%20Namespace%22%5D%0A%0A%20%20%20%20NodeA%20--%3E%20Canary%20--%3E%20Rollouts%20--%3E%20Namespace%0A%20%20%20%20NodeA%20--%3E%20Stable%20--%3E%20Namespace%0A"})]),fallback:n(()=>[...e[2]||(e[2]=[a(" Loading... ",-1)])]),_:1})),e[8]||(e[8]=o(`<h2 id="verification-commands" tabindex="-1">Verification Commands <a class="header-anchor" href="#verification-commands" aria-label="Permalink to &quot;Verification Commands&quot;">​</a></h2><p>After deploying, verify the integration works correctly:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Check LynqNodes created Argo CD Applications</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> applications</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> node.lynq.sh/uid</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Example output:</span></span>
<span class="line"><span style="color:#6A737D;"># NAME              SYNC STATUS   HEALTH STATUS   AGE</span></span>
<span class="line"><span style="color:#6A737D;"># acme-corp-app     Synced        Healthy         5m</span></span>
<span class="line"><span style="color:#6A737D;"># beta-inc-app      Synced        Healthy         5m</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Verify Application points to correct Git path</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> application</span><span style="color:#9ECBFF;"> acme-corp-app</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.spec.source.path}&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># Expected: nodes/acme-corp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Check sync status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> application</span><span style="color:#9ECBFF;"> acme-corp-app</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.sync.status}&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># Expected: Synced</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Check health status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> application</span><span style="color:#9ECBFF;"> acme-corp-app</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.health.status}&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># Expected: Healthy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 5. View sync history</span></span>
<span class="line"><span style="color:#B392F0;">argocd</span><span style="color:#9ECBFF;"> app</span><span style="color:#9ECBFF;"> history</span><span style="color:#9ECBFF;"> acme-corp-app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 6. Force sync (if needed)</span></span>
<span class="line"><span style="color:#B392F0;">argocd</span><span style="color:#9ECBFF;"> app</span><span style="color:#9ECBFF;"> sync</span><span style="color:#9ECBFF;"> acme-corp-app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 7. Check downstream workloads</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> acme-corp-workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 8. View Application events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> application</span><span style="color:#9ECBFF;"> acme-corp-app</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> tail</span><span style="color:#79B8FF;"> -20</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>Monitor Both Systems:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Combined health check</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#9ECBFF;"> &quot;=== LynqNode Status ===&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> lynqnode</span><span style="color:#9ECBFF;"> acme-corp-web-app</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.conditions[?(@.type==&quot;Ready&quot;)].status}&#39;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#9ECBFF;"> &quot;&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#9ECBFF;"> &quot;=== Argo CD Application Status ===&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> application</span><span style="color:#9ECBFF;"> acme-corp-app</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> argocd</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> jsonpath=&#39;{.status.sync.status}/{.status.health.status}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Expected: True (LynqNode Ready) + Synced/Healthy (Argo CD)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="operational-tips" tabindex="-1">Operational Tips <a class="header-anchor" href="#operational-tips" aria-label="Permalink to &quot;Operational Tips&quot;">​</a></h2><ul><li>Label Applications with node metadata for quick filtering (<code>node.lynq.sh/uid</code>).</li><li>Grant the operator service account access to <code>argoproj.io</code> API group via ClusterRole.</li><li>Monitor Argo CD sync status alongside LynqNode status; both must be healthy for end-to-end readiness.</li><li>Use the <code>Retain</code> deletion policy when you need to keep Applications for post-mortem analysis.</li></ul><h2 id="what-to-read-next" tabindex="-1">What to Read Next <a class="header-anchor" href="#what-to-read-next" aria-label="Permalink to &quot;What to Read Next&quot;">​</a></h2><ul><li><a href="./templates.html">Templates Guide</a> – Advanced templating and function usage.</li><li><a href="./policies.html">Policies Guide</a> – Control resource lifecycle (Retain vs. Delete).</li><li><a href="./monitoring.html">Monitoring Guide</a> – Capture Argo CD and Lynq metrics together.</li></ul>`,9))])}const B=c(y,[["render",b]]);export{C as __pageData,B as default};
